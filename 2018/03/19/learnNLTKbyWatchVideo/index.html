<!DOCTYPE html>
<html>
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  
  <title>learnNLTKbyWatchVideo | lightsmile&#39;s Blog</title>
  
  <meta name="keywords" content="Python,哲学,NLP,自然语言处理,lightsmile,李德方">
  
  
  <meta name="description" content="this is a description">
  

  <link rel="alternate" href="/atom.xml" title="lightsmile's Blog">

  <meta name="HandheldFriendly" content="True" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <!-- meta -->
  
  
  <meta name="theme-color" content="#f24e32">
  
  <meta name="msapplication-TileColor" content="#f24e32">
  
  <meta name="msapplication-config" content="https://cdn.jsdelivr.net/gh/xaoxuu/assets@18.12.27/favicon/favicons/browserconfig.xml">
  
  
  <!-- link -->
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-waves@0.7.6/dist/waves.min.css">
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.6.3/css/all.min.css">

  
  
  <link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/xaoxuu/assets@18.12.27/favicon/favicon.ico"
   type="image/x-icon"
  
  
  
  >
  
  <link rel="icon" href="https://cdn.jsdelivr.net/gh/xaoxuu/assets@18.12.27/favicon/favicons/favicon-32x32.png"
   type="image/x-icon"
   sizes="32x32"
  
  
  >
  
  <link rel="apple-touch-icon" href="https://cdn.jsdelivr.net/gh/xaoxuu/assets@18.12.27/favicon/favicons/apple-touch-icon.png"
   type="image/png"
   sizes="180x180"
  
  
  >
  
  <link rel="mask-icon" href="https://cdn.jsdelivr.net/gh/xaoxuu/assets@18.12.27/favicon/favicons/safari-pinned-tab.svg"
  
  
  
  
   color="#f24e32">
  
  <link rel="manifest" href="https://cdn.jsdelivr.net/gh/xaoxuu/assets@18.12.27/favicon/favicons/site.webmanifest"
  
  
  
  
  >
  
  

  
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-material-x@1.0/css/style.css">
    
  

  



  <script>
    function setLoadingBarProgress(num) {
      document.getElementById('loading-bar').style.width=num+"%";
    }
  </script>

  
    <!-- ga -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-131799461-1', 'www.iamlightsmile.com');
      ga('send', 'pageview');
    </script><!-- hexo-inject:begin --><!-- hexo-inject:end -->
  
  
</head>

<body>
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><!-- 小红心 -->
    <script type="text/javascript" src="/js/love.js"></script>

    <!-- 爆炸特效 -->
    <canvas class="fireworks" style="position: fixed; left: 0; top: 0; z-index: 1; pointer-events: none;"></canvas>
    <script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script>
    <script type="text/javascript" src="/js/fireworks.js"></script>

    <!-- 替换背景1-->
    <div id="jsi-particle-container" class="bg-container"></div>
    
    <div id="loading-bar-wrapper">
  <div id="loading-bar" class="material"></div>
</div>

    <script>setLoadingBarProgress(20)</script>
    <header class="l_header material">
	<div class='wrapper'>
		<div class="nav-main container container--flex">
      <a class="logo flat-box" href='/' >
        
          lightsmile's Blog
        
      </a>
			<div class='menu'>
				<ul class='h-list'>
          
  					
  						<li>
								<a id="https:www.iamlightsmile.com"
								 class="nav flat-box" href="https://www.iamlightsmile.com/">
									<i class='fas fa-home fa-fw'></i>&nbsp;主页
								</a>
							</li>
      			
  						<li>
								<a id="home"
								 class="nav flat-box" href="/">
									<i class='fas fa-rss fa-fw'></i>&nbsp;博客
								</a>
							</li>
      			
  						<li>
								<a id="archives"
								 class="nav flat-box" href="/archives/">
									<i class='fas fa-archive fa-fw'></i>&nbsp;归档
								</a>
							</li>
      			
  						<li>
								<a id="friends"
								 class="nav flat-box" href="/friends/">
									<i class='fas fa-users fa-fw'></i>&nbsp;朋友
								</a>
							</li>
      			
  						<li>
								<a id="about"
								 class="nav flat-box" href="/about/">
									<i class='fas fa-user fa-fw'></i>&nbsp;关于
								</a>
							</li>
      			
      		
				</ul>
			</div>

			
				<div class="m_search">
					<form name="searchform" class="form u-search-form">
						<input type="text" class="input u-search-input" placeholder="搜索" />
						<span class="icon"><i class="fas fa-search fa-fw"></i></span>
					</form>
				</div>
			
			<ul class='switcher h-list'>
				
					<li class='s-search'><a class="fas fa-search fa-fw" href='javascript:void(0)'></a></li>
				
				<li class='s-menu'><a class="fas fa-bars fa-fw" href='javascript:void(0)'></a></li>
			</ul>
		</div>

		<div class='nav-sub container container--flex'>
			<a class="logo flat-box"></a>
			<ul class='switcher h-list'>
				<li class='s-comment'><a class="flat-btn fas fa-comments fa-fw" href='javascript:void(0)'></a></li>
				<li class='s-toc'><a class="flat-btn fas fa-list fa-fw" href='javascript:void(0)'></a></li>
			</ul>
		</div>
	</div>
</header>
	<aside class="menu-phone">
    <header>
		<nav class="menu">
      <ul>
          
              
                  <li>
										<a id="https:www.iamlightsmile.com" class="nav flat-box" href="https://www.iamlightsmile.com/">
											<i class='fas fa-home fa-fw'></i>&nbsp;主页
										</a>
                  </li>
              
                  <li>
										<a id="home" class="nav flat-box" href="/">
											<i class='fas fa-rss fa-fw'></i>&nbsp;博客
										</a>
                  </li>
              
                  <li>
										<a id="archives" class="nav flat-box" href="/archives/">
											<i class='fas fa-archive fa-fw'></i>&nbsp;归档
										</a>
                  </li>
              
                  <li>
										<a id="friends" class="nav flat-box" href="/friends/">
											<i class='fas fa-users fa-fw'></i>&nbsp;朋友
										</a>
                  </li>
              
                  <li>
										<a id="about" class="nav flat-box" href="/about/">
											<i class='fas fa-user fa-fw'></i>&nbsp;关于
										</a>
                  </li>
              
       
      </ul>
		</nav>
    </header>
	</aside>

    <script>setLoadingBarProgress(40);</script>
    <div class="l_body">
    <div class='container clearfix'>
        <div class='l_main'>
            <article id="post" class="post white-box article-type-post" itemscope itemprop="blogPost">
  
<section class='meta'>
  
  <div class="meta" id="header-meta">
    
      
          <h1 class="title">learnNLTKbyWatchVideo</h1>
      
    

    
      <time class="metatag time">
        <i class="fas fa-calendar-alt fa-fw" aria-hidden="true"></i>&nbsp;2018-03-19
      </time>
    

    
      
    
    <div class='metatag cats'>
        <i class="fas fa-folder-open fa-fw" aria-hidden="true"></i>&nbsp;<a class="categories" href="/categories/计算机/">计算机</a>
    </div>


    

    
      
        <div class="metatag browse busuanzi"><i class="fas fa-eye fa-fw" aria-hidden="true"></i>
          &nbsp;<span id="busuanzi_value_page_pv"><i class="fas fa-spinner fa-spin fa-fw" aria-hidden="true"></i></span>
        </div>
      
    

    

  </div>
</section>

    <section class="article typo">
      <div class="article-entry" itemprop="articleBody">
        <h1 id="The-following-is-learning-from-the-video-NLTK-with-Python-3-for-Natural-Language-Processing"><a href="#The-following-is-learning-from-the-video-NLTK-with-Python-3-for-Natural-Language-Processing" class="headerlink" title="The following is learning from the video:NLTK with Python 3 for Natural Language Processing."></a>The following is learning from the video:NLTK with Python 3 for Natural Language Processing.</h1><p>You can watch the videos in YouTube,iliibili and the author’s website: <a href="http://pythonprogramming.net" target="_blank" rel="noopener">pythonprogramming.net</a></p>
<p>I use jupyter notebook to write and run the python code,the python version is 3.4.4.</p>
<p>Frist,we need to import the <code>nltk</code> module to use it</p>
<a id="more"></a>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> nltk</span><br><span class="line"><span class="keyword">from</span> nltk.tokenize <span class="keyword">import</span> sent_tokenize,word_tokenize</span><br><span class="line"></span><br><span class="line">text = <span class="string">r"hello,how are you! I am lightsmile. My github link is www.github.com/smilelight. My persoanl website is www.iamlightsmile.com"</span></span><br></pre></td></tr></table></figure>
<h3 id="1-Tokenizing-words-and-entences-分词和分句"><a href="#1-Tokenizing-words-and-entences-分词和分句" class="headerlink" title="1. Tokenizing words and entences(分词和分句)"></a>1. Tokenizing words and entences(分词和分句)</h3><p>use the <code>sent_tokenize</code> method to tokenize the texts to sentenses(分句)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sent_tokenize(text)</span><br></pre></td></tr></table></figure>
<pre><code>[&#39;hello,how are you!&#39;,
 &#39;I am lightsmile.&#39;,
 &#39;My github link is www.github.com/smilelight.&#39;,
 &#39;My persoanl website is www.iamlightsmile.com&#39;]
</code></pre><p>use the <code>word_tokenize</code> method to tokenize the texts to words(分词)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">word_tokenize(text)</span><br></pre></td></tr></table></figure>
<pre><code>[&#39;hello&#39;,
 &#39;,&#39;,
 &#39;how&#39;,
 &#39;are&#39;,
 &#39;you&#39;,
 &#39;!&#39;,
 &#39;I&#39;,
 &#39;am&#39;,
 &#39;lightsmile&#39;,
 &#39;.&#39;,
 &#39;My&#39;,
 &#39;github&#39;,
 &#39;link&#39;,
 &#39;is&#39;,
 &#39;www.github.com/smilelight&#39;,
 &#39;.&#39;,
 &#39;My&#39;,
 &#39;persoanl&#39;,
 &#39;website&#39;,
 &#39;is&#39;,
 &#39;www.iamlightsmile.com&#39;]
</code></pre><h3 id="2-Stop-Words-停用词"><a href="#2-Stop-Words-停用词" class="headerlink" title="2. Stop Words(停用词)"></a>2. Stop Words(停用词)</h3><p>Then,import the <code>stopwords</code>(停用词) from the <code>nltk.corpus</code> module</p>
<p>The stopwords are the words which are used commonly in the daliy life but usefulless for we to analyze the texts,so we need to remove them from the texts before we do the next steps.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> nltk.corpus <span class="keyword">import</span> stopwords</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">example_sentense = <span class="string">"This is an example showing off stop word filtration"</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">filter_sentense = [w <span class="keyword">for</span> w <span class="keyword">in</span> word_tokenize(example_sentense) <span class="keyword">if</span>  w <span class="keyword">not</span> <span class="keyword">in</span> stopwords.words(<span class="string">'english'</span>)]</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">filter_sentense</span><br></pre></td></tr></table></figure>
<pre><code>[&#39;This&#39;, &#39;example&#39;, &#39;showing&#39;, &#39;stop&#39;, &#39;word&#39;, &#39;filtration&#39;]
</code></pre><h3 id="3-Stemming-提取词干"><a href="#3-Stemming-提取词干" class="headerlink" title="3. Stemming(提取词干)"></a>3. Stemming(提取词干)</h3><p>Use <code>PorterStemmer()</code> to get the stems of words(提取词干)</p>
<p>In some situations there are different expressions which have the same meanings.For example,the words:good,better,well have the similar meanings in the most situations.So,on the purpose to simplify the texts,we can get the stems of words in the texts. </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> nltk.stem <span class="keyword">import</span> PorterStemmer</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ps = PorterStemmer()</span><br><span class="line">example_words = [<span class="string">"python"</span>,<span class="string">"pythoner"</span>,<span class="string">"pythoning"</span>,<span class="string">"pythoned"</span>,<span class="string">"pythonly"</span>]</span><br><span class="line"><span class="keyword">for</span> w <span class="keyword">in</span> example_words:</span><br><span class="line">    print(ps.stem(w))</span><br></pre></td></tr></table></figure>
<pre><code>python
python
python
python
pythonli
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">new_text = <span class="string">"It is very important to be pythonly while you are pythoning with python. All pythoners have pythoned poorly at least once."</span></span><br><span class="line"><span class="keyword">for</span> w <span class="keyword">in</span> word_tokenize(new_text):</span><br><span class="line">    print(ps.stem(w))</span><br></pre></td></tr></table></figure>
<pre><code>It
is
veri
import
to
be
pythonli
while
you
are
python
with
python
.
all
python
have
python
poorli
at
least
onc
.
</code></pre><h3 id="4-Part-of-speech-tagging-词性标注"><a href="#4-Part-of-speech-tagging-词性标注" class="headerlink" title="4. Part of speech tagging(词性标注)"></a>4. Part of speech tagging(词性标注)</h3><p>Use pos_tag method to do part of speech tagging(词性标注)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tagged = nltk.pos_tag(word_tokenize(new_text))</span><br><span class="line">print(tagged)</span><br></pre></td></tr></table></figure>
<pre><code>[(&#39;It&#39;, &#39;PRP&#39;), (&#39;is&#39;, &#39;VBZ&#39;), (&#39;very&#39;, &#39;RB&#39;), (&#39;important&#39;, &#39;JJ&#39;), (&#39;to&#39;, &#39;TO&#39;), (&#39;be&#39;, &#39;VB&#39;), (&#39;pythonly&#39;, &#39;RB&#39;), (&#39;while&#39;, &#39;IN&#39;), (&#39;you&#39;, &#39;PRP&#39;), (&#39;are&#39;, &#39;VBP&#39;), (&#39;pythoning&#39;, &#39;VBG&#39;), (&#39;with&#39;, &#39;IN&#39;), (&#39;python&#39;, &#39;NN&#39;), (&#39;.&#39;, &#39;.&#39;), (&#39;All&#39;, &#39;DT&#39;), (&#39;pythoners&#39;, &#39;NNS&#39;), (&#39;have&#39;, &#39;VBP&#39;), (&#39;pythoned&#39;, &#39;VBN&#39;), (&#39;poorly&#39;, &#39;RB&#39;), (&#39;at&#39;, &#39;IN&#39;), (&#39;least&#39;, &#39;JJS&#39;), (&#39;once&#39;, &#39;RB&#39;), (&#39;.&#39;, &#39;.&#39;)]
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[w <span class="keyword">for</span> w,t <span class="keyword">in</span> tagged <span class="keyword">if</span> t == <span class="string">'RB'</span> ]</span><br></pre></td></tr></table></figure>
<pre><code>[&#39;very&#39;, &#39;pythonly&#39;, &#39;poorly&#39;, &#39;once&#39;]
</code></pre><h3 id="5-Chunking-短语识别"><a href="#5-Chunking-短语识别" class="headerlink" title="5. Chunking(短语识别)"></a>5. Chunking(短语识别)</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">chunkGram = <span class="string">r"""Chunk: &#123;&lt;RB.?&gt;*&lt;VB.?&gt;*&lt;NNP&gt;*&lt;NN&gt;&#125;"""</span></span><br><span class="line">chunkParser = nltk.RegexpParser(chunkGram)</span><br><span class="line">chunked = chunkParser.parse(tagged)</span><br><span class="line">print(chunked)</span><br></pre></td></tr></table></figure>
<pre><code>(S
  It/PRP
  is/VBZ
  very/RB
  important/JJ
  to/TO
  be/VB
  pythonly/RB
  while/IN
  you/PRP
  are/VBP
  pythoning/VBG
  with/IN
  (Chunk python/NN)
  ./.
  All/DT
  pythoners/NNS
  have/VBP
  pythoned/VBN
  poorly/RB
  at/IN
  least/JJS
  once/RB
  ./.)
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chunked.draw()</span><br></pre></td></tr></table></figure>
<h3 id="6-Chinking-短语排除"><a href="#6-Chinking-短语排除" class="headerlink" title="6. Chinking(短语排除)"></a>6. Chinking(短语排除)</h3><p>The chinking is used to chunk something expect the chinking things.It’s effect is to remove something.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">chinkGram = <span class="string">r"""Chunk: &#123;&lt;.*&gt;&#125;</span></span><br><span class="line"><span class="string">                                           Chink: &#125;&lt;NN&gt;&#123;"""</span></span><br><span class="line">chinkParser = nltk.RegexpParser(chinkGram)</span><br><span class="line">chinked = chinkParser.parse(tagged)</span><br><span class="line">print(chinked)</span><br></pre></td></tr></table></figure>
<pre><code>(S
  (Chunk It/PRP)
  (Chunk is/VBZ)
  (Chunk very/RB)
  (Chunk important/JJ)
  (Chunk to/TO)
  (Chunk be/VB)
  (Chunk pythonly/RB)
  (Chunk while/IN)
  (Chunk you/PRP)
  (Chunk are/VBP)
  (Chunk pythoning/VBG)
  (Chunk with/IN)
  (Chunk python/NN)
  (Chunk ./.)
  (Chunk All/DT)
  (Chunk pythoners/NNS)
  (Chunk have/VBP)
  (Chunk pythoned/VBN)
  (Chunk poorly/RB)
  (Chunk at/IN)
  (Chunk least/JJS)
  (Chunk once/RB)
  (Chunk ./.))
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chinked.draw()</span><br></pre></td></tr></table></figure>
<h3 id="7-Named-Entity-Recognition-命名实体识别"><a href="#7-Named-Entity-Recognition-命名实体识别" class="headerlink" title="7. Named Entity Recognition(命名实体识别)"></a>7. Named Entity Recognition(命名实体识别)</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">new_text2 = <span class="string">"The Obama,president of the United States,is walking by the Danube with his families.They'll go back home at 7:00 a.m.."</span></span><br><span class="line">tagged2 = nltk.pos_tag(word_tokenize(new_text2))</span><br><span class="line">nameEnt = nltk.ne_chunk(tagged2)</span><br><span class="line">nameEnt.draw()</span><br></pre></td></tr></table></figure>
<h3 id="8-Lemmatizing-词形还原"><a href="#8-Lemmatizing-词形还原" class="headerlink" title="8. Lemmatizing(词形还原)"></a>8. Lemmatizing(词形还原)</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> nltk.stem <span class="keyword">import</span> WordNetLemmatizer</span><br><span class="line">lemmatizer = WordNetLemmatizer()</span><br><span class="line">entities = [<span class="string">"cats"</span>,<span class="string">"body"</span>,<span class="string">"shoes"</span>,<span class="string">"python"</span>,<span class="string">"shit"</span>,<span class="string">"park"</span>]</span><br><span class="line"><span class="keyword">for</span> entity <span class="keyword">in</span> entities:</span><br><span class="line">    print(lemmatizer.lemmatize(entity))</span><br></pre></td></tr></table></figure>
<pre><code>cat
body
shoe
python
shit
park
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nltk.__file__</span><br></pre></td></tr></table></figure>
<pre><code>&#39;C:\\Program Files\\Anaconda3\\lib\\site-packages\\nltk\\__init__.py&#39;
</code></pre><h3 id="9-NLTK-Corpora-语料库"><a href="#9-NLTK-Corpora-语料库" class="headerlink" title="9. NLTK Corpora(语料库)"></a>9. NLTK Corpora(语料库)</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> nltk.corpus <span class="keyword">import</span> gutenberg</span><br><span class="line"><span class="keyword">from</span> nltk.tokenize <span class="keyword">import</span> sent_tokenize</span><br><span class="line">sample = gutenberg.raw(<span class="string">'bible-kjv.txt'</span>)</span><br><span class="line">tok = sent_tokenize(sample)</span><br><span class="line">tok[:<span class="number">5</span>]</span><br></pre></td></tr></table></figure>
<pre><code>[&#39;[The King James Bible]\n\nThe Old Testament of the King James Bible\n\nThe First Book of Moses:  Called Genesis\n\n\n1:1 In the beginning God created the heaven and the earth.&#39;,
 &#39;1:2 And the earth was without form, and void; and darkness was upon\nthe face of the deep.&#39;,
 &#39;And the Spirit of God moved upon the face of the\nwaters.&#39;,
 &#39;1:3 And God said, Let there be light: and there was light.&#39;,
 &#39;1:4 And God saw the light, that it was good: and God divided the light\nfrom the darkness.&#39;]
</code></pre><h3 id="10-WordNet-一个英语词汇数据库"><a href="#10-WordNet-一个英语词汇数据库" class="headerlink" title="10. WordNet(一个英语词汇数据库)"></a>10. WordNet(一个英语词汇数据库)</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> nltk.corpus <span class="keyword">import</span> wordnet</span><br><span class="line">syns = wordnet.synsets(<span class="string">"program"</span>)</span><br><span class="line">syns</span><br></pre></td></tr></table></figure>
<pre><code>[Synset(&#39;plan.n.01&#39;),
 Synset(&#39;program.n.02&#39;),
 Synset(&#39;broadcast.n.02&#39;),
 Synset(&#39;platform.n.02&#39;),
 Synset(&#39;program.n.05&#39;),
 Synset(&#39;course_of_study.n.01&#39;),
 Synset(&#39;program.n.07&#39;),
 Synset(&#39;program.n.08&#39;),
 Synset(&#39;program.v.01&#39;),
 Synset(&#39;program.v.02&#39;)]
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">word = wordnet.synsets(<span class="string">'boy'</span>)</span><br><span class="line">synonyms =[]</span><br><span class="line">antonyms = []</span><br><span class="line"><span class="keyword">for</span> w <span class="keyword">in</span> word:</span><br><span class="line">    <span class="keyword">for</span> l <span class="keyword">in</span> w.lemmas():</span><br><span class="line">        synonyms.append(l.name())</span><br><span class="line">        <span class="keyword">if</span> l.antonyms():</span><br><span class="line">            <span class="keyword">for</span> a <span class="keyword">in</span> l.antonyms():</span><br><span class="line">                antonyms.append(a.name())</span><br><span class="line">print(set(synonyms))</span><br><span class="line">print(set(antonyms))</span><br></pre></td></tr></table></figure>
<pre><code>{&#39;male_child&#39;, &#39;son&#39;, &#39;boy&#39;}
{&#39;female_child&#39;, &#39;daughter&#39;, &#39;girl&#39;}
</code></pre><p>Use list comprehension(列表推导式)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">synonyms2 = set([l.name() <span class="keyword">for</span> w <span class="keyword">in</span> word <span class="keyword">for</span> l <span class="keyword">in</span> w.lemmas()])</span><br><span class="line">antonyms2 = set([a.name() <span class="keyword">for</span> w <span class="keyword">in</span> word <span class="keyword">for</span> l <span class="keyword">in</span> w.lemmas() <span class="keyword">for</span> a <span class="keyword">in</span> l.antonyms()])</span><br><span class="line">print(synonyms2)</span><br><span class="line">print(antonyms2)</span><br></pre></td></tr></table></figure>
<pre><code>{&#39;male_child&#39;, &#39;son&#39;, &#39;boy&#39;}
{&#39;female_child&#39;, &#39;daughter&#39;, &#39;girl&#39;}
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">word[<span class="number">0</span>][<span class="string">"boy"</span>].antosyns()</span><br></pre></td></tr></table></figure>
<pre><code>---------------------------------------------------------------------------

TypeError                                 Traceback (most recent call last)

&lt;ipython-input-77-93678c6743d6&gt; in &lt;module&gt;()
----&gt; 1 word[0][&quot;boy&quot;].antosyns()


TypeError: &#39;Synset&#39; object is not subscriptable
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cat = wordnet.synset(<span class="string">"cat.n.01"</span>)</span><br><span class="line">dog = wordnet.synset(<span class="string">"dog.n.01"</span>)</span><br><span class="line">dog.wup_similarity(cat)</span><br></pre></td></tr></table></figure>
<pre><code>0.8571428571428571
</code></pre><h3 id="11-Text-Classfication-文本分类"><a href="#11-Text-Classfication-文本分类" class="headerlink" title="11. Text Classfication(文本分类)"></a>11. Text Classfication(文本分类)</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">from</span> nltk.corpus <span class="keyword">import</span> movie_reviews</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">documents = [(list(movie_reviews.words(fileid)),category)</span><br><span class="line">              <span class="keyword">for</span> category <span class="keyword">in</span> movie_reviews.categories()</span><br><span class="line">             <span class="keyword">for</span> fileid <span class="keyword">in</span> movie_reviews.fileids(category)]</span><br><span class="line">random.shuffle(documents)</span><br><span class="line"></span><br><span class="line">documents[<span class="number">1</span>]</span><br></pre></td></tr></table></figure>
<pre><code>([&#39;did&#39;,
  &#39;you&#39;,
  &#39;ever&#39;,
  &#39;wonder&#39;,
  &#39;if&#39;,
  &#39;dennis&#39;,
  &#39;rodman&#39;,
  &#39;was&#39;,
  &#39;actually&#39;,
  &#39;from&#39;,
  &#39;this&#39;,
  &#39;planet&#39;,
  &#39;?&#39;,
  &#39;or&#39;,
  &#39;if&#39;,
  &#39;sylvester&#39;,
  &#39;stallone&#39;,
  &#39;was&#39;,
  &#39;some&#39;,
  &#39;kind&#39;,
  &#39;of&#39;,
  &#39;weird&#39;,
  &#39;extra&#39;,
  &#39;-&#39;,
  &#39;terrestrial&#39;,
  &#39;?&#39;,
  &#39;i&#39;,
  &#39;used&#39;,
  &#39;to&#39;,
  &#39;think&#39;,
  &#39;that&#39;,
  &#39;about&#39;,
  &#39;my&#39;,
  &#39;7th&#39;,
  &#39;grade&#39;,
  &#39;english&#39;,
  &#39;teacher&#39;,
  &#39;,&#39;,
  &#39;ms&#39;,
  &#39;.&#39;,
  &#39;carey&#39;,
  &#39;.&#39;,
  &#39;but&#39;,
  &#39;after&#39;,
  &#39;seeing&#39;,
  &#39;this&#39;,
  &#39;movie&#39;,
  &#39;,&#39;,
  &#39;they&#39;,
  &#39;may&#39;,
  &#39;have&#39;,
  &#39;confirmed&#39;,
  &#39;my&#39;,
  &#39;suspicions&#39;,
  &#39;.&#39;,
  &#39;as&#39;,
  &#39;the&#39;,
  &#39;story&#39;,
  &#39;goes&#39;,
  &#39;,&#39;,
  &#39;at&#39;,
  &#39;any&#39;,
  &#39;time&#39;,
  &#39;,&#39;,
  &#39;there&#39;,
  &#39;are&#39;,
  &#39;over&#39;,
  &#39;a&#39;,
  &#39;thousand&#39;,
  &#39;aliens&#39;,
  &#39;living&#39;,
  &#39;among&#39;,
  &#39;us&#39;,
  &#39;here&#39;,
  &#39;on&#39;,
  &#39;earth&#39;,
  &#39;.&#39;,
  &#39;the&#39;,
  &#39;men&#39;,
  &#39;in&#39;,
  &#39;black&#39;,
  &#39;(&#39;,
  &#39;mib&#39;,
  &#39;)&#39;,
  &#39;are&#39;,
  &#39;the&#39;,
  &#39;watchdogs&#39;,
  &#39;that&#39;,
  &#39;oversee&#39;,
  &#39;the&#39;,
  &#39;cosmic&#39;,
  &#39;citizens&#39;,
  &#39;,&#39;,
  &#39;guardians&#39;,
  &#39;of&#39;,
  &#39;our&#39;,
  &#39;beloved&#39;,
  &#39;planet&#39;,
  &#39;from&#39;,
  &#39;nasty&#39;,
  &#39;-&#39;,
  &#39;tempered&#39;,
  &#39;aliens&#39;,
  &#39;,&#39;,
  &#39;and&#39;,
  &#39;secret&#39;,
  &#39;service&#39;,
  &#39;to&#39;,
  &#39;the&#39;,
  &#39;stars&#39;,
  &#39;.&#39;,
  &#39;based&#39;,
  &#39;in&#39;,
  &#39;new&#39;,
  &#39;york&#39;,
  &#39;city&#39;,
  &#39;(&#39;,
  &#39;where&#39;,
  &#39;weird&#39;,
  &#39;is&#39;,
  &#39;the&#39;,
  &#39;norm&#39;,
  &#39;)&#39;,
  &#39;,&#39;,
  &#39;the&#39;,
  &#39;mib&#39;,
  &#39;organization&#39;,
  &#39;gives&#39;,
  &#39;human&#39;,
  &#39;form&#39;,
  &#39;to&#39;,
  &#39;our&#39;,
  &#39;space&#39;,
  &#39;-&#39;,
  &#39;faring&#39;,
  &#39;emigrants&#39;,
  &#39;so&#39;,
  &#39;that&#39;,
  &#39;they&#39;,
  &#39;may&#39;,
  &#39;walk&#39;,
  &#39;and&#39;,
  &#39;live&#39;,
  &#39;among&#39;,
  &#39;us&#39;,
  &#39;unnoticed&#39;,
  &#39;.&#39;,
  &#39;but&#39;,
  &#39;to&#39;,
  &#39;enforce&#39;,
  &#39;the&#39;,
  &#39;laws&#39;,
  &#39;of&#39;,
  &#39;earth&#39;,
  &#39;,&#39;,
  &#39;the&#39;,
  &#39;mib&#39;,
  &#39;carry&#39;,
  &#39;weapons&#39;,
  &#39;that&#39;,
  &#39;are&#39;,
  &#39;powerful&#39;,
  &#39;enough&#39;,
  &#39;to&#39;,
  &#39;meet&#39;,
  &#39;or&#39;,
  &#39;exceed&#39;,
  &#39;destruction&#39;,
  &#39;quotas&#39;,
  &#39;in&#39;,
  &#39;one&#39;,
  &#39;single&#39;,
  &#39;blast&#39;,
  &#39;.&#39;,
  &#39;they&#39;,
  &#39;carry&#39;,
  &#39;other&#39;,
  &#39;-&#39;,
  &#39;worldly&#39;,
  &#39;technology&#39;,
  &#39;to&#39;,
  &#39;erase&#39;,
  &#39;people&#39;,
  &quot;&#39;&quot;,
  &#39;s&#39;,
  &#39;short&#39;,
  &#39;-&#39;,
  &#39;term&#39;,
  &#39;memory&#39;,
  &#39;when&#39;,
  &#39;common&#39;,
  &#39;folk&#39;,
  &#39;see&#39;,
  &#39;the&#39;,
  &#39;mib&#39;,
  &#39;in&#39;,
  &#39;action&#39;,
  &#39;.&#39;,
  &#39;and&#39;,
  &#39;their&#39;,
  &#39;best&#39;,
  &#39;leads&#39;,
  &#39;on&#39;,
  &#39;cosmic&#39;,
  &#39;things&#39;,
  &#39;-&#39;,
  &#39;gone&#39;,
  &#39;-&#39;,
  &#39;awry&#39;,
  &#39;are&#39;,
  &#39;the&#39;,
  &#39;supermarket&#39;,
  &#39;tabloids&#39;,
  &#39;.&#39;,
  &#39;little&#39;,
  &#39;do&#39;,
  &#39;we&#39;,
  &#39;know&#39;,
  &#39;that&#39;,
  &#39;there&#39;,
  &#39;are&#39;,
  &#39;much&#39;,
  &#39;stronger&#39;,
  &#39;battles&#39;,
  &#39;of&#39;,
  &#39;good&#39;,
  &#39;v&#39;,
  &#39;.&#39;,
  &#39;evil&#39;,
  &#39;going&#39;,
  &#39;on&#39;,
  &#39;in&#39;,
  &#39;the&#39;,
  &#39;depths&#39;,
  &#39;of&#39;,
  &#39;space&#39;,
  &#39;.&#39;,
  &#39;one&#39;,
  &#39;of&#39;,
  &#39;the&#39;,
  &#39;aliens&#39;,
  &#39;-&#39;,
  &#39;as&#39;,
  &#39;-&#39;,
  &#39;human&#39;,
  &#39;on&#39;,
  &#39;this&#39;,
  &#39;planet&#39;,
  &#39;is&#39;,
  &#39;an&#39;,
  &#39;important&#39;,
  &#39;diplomat&#39;,
  &#39;that&#39;,
  &#39;is&#39;,
  &#39;carrying&#39;,
  &#39;something&#39;,
  &#39;very&#39;,
  &#39;precious&#39;,
  &#39;.&#39;,
  &#39;it&#39;,
  &#39;holds&#39;,
  &#39;the&#39;,
  &quot;&#39;&quot;,
  &#39;key&#39;,
  &quot;&#39;&quot;,
  &#39;,&#39;,
  &#39;literally&#39;,
  &#39;,&#39;,
  &#39;to&#39;,
  &#39;universal&#39;,
  &#39;peace&#39;,
  &#39;.&#39;,
  &#39;a&#39;,
  &#39;giant&#39;,
  &#39;cockroach&#39;,
  &#39;-&#39;,
  &#39;like&#39;,
  &#39;alien&#39;,
  &#39;soon&#39;,
  &#39;arrives&#39;,
  &#39;on&#39;,
  &#39;the&#39;,
  &#39;planet&#39;,
  &#39;and&#39;,
  &#39;steals&#39;,
  &#39;this&#39;,
  &quot;&#39;&quot;,
  &#39;key&#39;,
  &quot;&#39;&quot;,
  &#39;.&#39;,
  &#39;in&#39;,
  &#39;the&#39;,
  &#39;wrong&#39;,
  &#39;alien&#39;,
  &#39;hands&#39;,
  &#39;(&#39;,
  &#39;flippers&#39;,
  &#39;?&#39;,
  &#39;mandibles&#39;,
  &#39;?&#39;,
  &#39;tentacles&#39;,
  &#39;?&#39;,
  &#39;)&#39;,
  &#39;,&#39;,
  &#39;it&#39;,
  &#39;can&#39;,
  &#39;be&#39;,
  &#39;used&#39;,
  &#39;as&#39;,
  &#39;a&#39;,
  &#39;weapon&#39;,
  &#39;.&#39;,
  &#39;therefore&#39;,
  &#39;,&#39;,
  &#39;it&#39;,
  &#39;must&#39;,
  &#39;be&#39;,
  &#39;recovered&#39;,
  &#39;and&#39;,
  &#39;returned&#39;,
  &#39;to&#39;,
  &#39;it&#39;,
  &quot;&#39;&quot;,
  &#39;s&#39;,
  &#39;rightful&#39;,
  &#39;owners&#39;,
  &#39;.&#39;,
  &#39;otherwise&#39;,
  &#39;,&#39;,
  &#39;to&#39;,
  &#39;ensure&#39;,
  &#39;universal&#39;,
  &#39;safety&#39;,
  &#39;,&#39;,
  &#39;earth&#39;,
  &#39;will&#39;,
  &#39;be&#39;,
  &#39;destroyed&#39;,
  &#39;,&#39;,
  &#39;along&#39;,
  &#39;with&#39;,
  &#39;the&#39;,
  &quot;&#39;&quot;,
  &#39;key&#39;,
  &quot;&#39;&quot;,
  &#39;.&#39;,
  &#39;now&#39;,
  &#39;,&#39;,
  &#39;it&#39;,
  &quot;&#39;&quot;,
  &#39;s&#39;,
  &#39;the&#39;,
  &#39;mib&#39;,
  &#39;who&#39;,
  &#39;must&#39;,
  &#39;prevent&#39;,
  &#39;this&#39;,
  &#39;catastrophe&#39;,
  &#39;.&#39;,
  &#39;the&#39;,
  &#39;mib&#39;,
  &#39;agents&#39;,
  &#39;on&#39;,
  &#39;the&#39;,
  &#39;case&#39;,
  &#39;are&#39;,
  &#39;&quot;&#39;,
  &#39;k&#39;,
  &#39;&quot;&#39;,
  &#39;,&#39;,
  &#39;played&#39;,
  &#39;by&#39;,
  &#39;tommy&#39;,
  &#39;lee&#39;,
  &#39;jones&#39;,
  &#39;.&#39;,
  &#39;he&#39;,
  &#39;is&#39;,
  &#39;crustier&#39;,
  &#39;than&#39;,
  &#39;burnt&#39;,
  &#39;toast&#39;,
  &#39;and&#39;,
  &#39;even&#39;,
  &#39;more&#39;,
  &#39;serious&#39;,
  &#39;than&#39;,
  &#39;al&#39;,
  &#39;gore&#39;,
  &#39;.&#39;,
  &#39;the&#39;,
  &#39;stars&#39;,
  &#39;in&#39;,
  &#39;the&#39;,
  &#39;sky&#39;,
  &#39;no&#39;,
  &#39;longer&#39;,
  &#39;spark&#39;,
  &#39;wonder&#39;,
  &#39;in&#39;,
  &#39;his&#39;,
  &#39;eyes&#39;,
  &#39;.&#39;,
  &#39;he&#39;,
  &#39;is&#39;,
  &#39;accompanied&#39;,
  &#39;by&#39;,
  &#39;a&#39;,
  &#39;flippant&#39;,
  &#39;rookie&#39;,
  &#39;,&#39;,
  &#39;&quot;&#39;,
  &#39;j&#39;,
  &#39;&quot;&#39;,
  &#39;,&#39;,
  &#39;played&#39;,
  &#39;by&#39;,
  &#39;will&#39;,
  &#39;smith&#39;,
  &#39;.&#39;,
  &#39;but&#39;,
  &#39;,&#39;,
  &#39;despite&#39;,
  &#39;this&#39;,
  &#39;shoot&#39;,
  &#39;-&#39;,
  &#39;em&#39;,
  &#39;-&#39;,
  &#39;up&#39;,
  &#39;,&#39;,
  &#39;protect&#39;,
  &#39;-&#39;,
  &#39;earth&#39;,
  &#39;-&#39;,
  &#39;from&#39;,
  &#39;-&#39;,
  &#39;destruction&#39;,
  &#39;premise&#39;,
  &#39;,&#39;,
  &#39;this&#39;,
  &#39;is&#39;,
  &#39;nothing&#39;,
  &#39;at&#39;,
  &#39;all&#39;,
  &#39;like&#39;,
  &#39;a&#39;,
  &#39;typical&#39;,
  &#39;summer&#39;,
  &#39;action&#39;,
  &#39;movie&#39;,
  &#39;.&#39;,
  &#39;and&#39;,
  &#39;,&#39;,
  &#39;this&#39;,
  &#39;isn&#39;,
  &quot;&#39;&quot;,
  &#39;t&#39;,
  &#39;an&#39;,
  &#39;independence&#39;,
  &#39;day&#39;,
  &#39;knockoff&#39;,
  &#39;.&#39;,
  &#39;rather&#39;,
  &#39;,&#39;,
  &#39;this&#39;,
  &#39;is&#39;,
  &#39;a&#39;,
  &#39;stylishly&#39;,
  &#39;offbeat&#39;,
  &#39;sci&#39;,
  &#39;-&#39;,
  &#39;fi&#39;,
  &#39;comedy&#39;,
  &#39;that&#39;,
  &#39;pokes&#39;,
  &#39;fun&#39;,
  &#39;at&#39;,
  &#39;what&#39;,
  &#39;the&#39;,
  &#39;government&#39;,
  &#39;always&#39;,
  &#39;denies&#39;,
  &#39;?&#39;,
  &#39;that&#39;,
  &#39;there&#39;,
  &#39;are&#39;,
  &#39;real&#39;,
  &#39;aliens&#39;,
  &#39;that&#39;,
  &#39;live&#39;,
  &#39;here&#39;,
  &#39;,&#39;,
  &#39;and&#39;,
  &#39;that&#39;,
  &#39;the&#39;,
  &#39;government&#39;,
  &#39;does&#39;,
  &#39;its&#39;,
  &#39;darndest&#39;,
  &#39;to&#39;,
  &#39;cover&#39;,
  &#39;them&#39;,
  &#39;up&#39;,
  &#39;.&#39;,
  &#39;but&#39;,
  &#39;to&#39;,
  &#39;give&#39;,
  &#39;it&#39;,
  &#39;some&#39;,
  &#39;sense&#39;,
  &#39;of&#39;,
  &#39;excitement&#39;,
  &#39;and&#39;,
  &#39;to&#39;,
  &#39;keep&#39;,
  &#39;it&#39;,
  &#39;within&#39;,
  &#39;the&#39;,
  &#39;parameters&#39;,
  &#39;of&#39;,
  &#39;the&#39;,
  &#39;summer&#39;,
  &#39;movie&#39;,
  &#39;recipe&#39;,
  &#39;,&#39;,
  &#39;there&#39;,
  &#39;must&#39;,
  &#39;be&#39;,
  &#39;some&#39;,
  &#39;kind&#39;,
  &#39;of&#39;,
  &#39;earth&#39;,
  &#39;-&#39;,
  &#39;hangs&#39;,
  &#39;-&#39;,
  &#39;in&#39;,
  &#39;-&#39;,
  &#39;the&#39;,
  &#39;-&#39;,
  &#39;balance&#39;,
  &#39;scenario&#39;,
  &#39;.&#39;,
  &#39;yet&#39;,
  &#39;,&#39;,
  &#39;this&#39;,
  &#39;movie&#39;,
  &#39;is&#39;,
  &#39;very&#39;,
  &#39;appealing&#39;,
  &#39;.&#39;,
  &#39;the&#39;,
  &#39;abundance&#39;,
  &#39;of&#39;,
  &#39;wierdness&#39;,
  &#39;(&#39;,
  &#39;talking&#39;,
  &#39;aliens&#39;,
  &#39;,&#39;,
  &#39;pee&#39;,
  &#39;-&#39;,
  &#39;wee&#39;,
  &#39;atomizers&#39;,
  &#39;,&#39;,
  &#39;a&#39;,
  &#39;mortician&#39;,
  &#39;who&#39;,
  &quot;&#39;&quot;,
  &#39;lives&#39;,
  &quot;&#39;&quot;,
  &#39;for&#39;,
  &#39;her&#39;,
  &#39;work&#39;,
  &#39;,&#39;,
  &#39;and&#39;,
  &#39;lots&#39;,
  &#39;of&#39;,
  &#39;yucky&#39;,
  &#39;bugs&#39;,
  &#39;and&#39;,
  &#39;slime&#39;,
  &#39;-&#39;,
  &#39;splattering&#39;,
  &#39;galore&#39;,
  &#39;)&#39;,
  &#39;,&#39;,
  &#39;is&#39;,
  &#39;played&#39;,
  &#39;straight&#39;,
  &#39;,&#39;,
  &#39;like&#39;,
  &#39;as&#39;,
  &#39;if&#39;,
  &#39;this&#39;,
  &#39;were&#39;,
  &#39;normal&#39;,
  &#39;(&#39;,
  &#39;of&#39;,
  &#39;course&#39;,
  &#39;,&#39;,
  &#39;we&#39;,
  &#39;are&#39;,
  &#39;in&#39;,
  &#39;nyc&#39;,
  &#39;)&#39;,
  &#39;.&#39;,
  &#39;it&#39;,
  &#39;gives&#39;,
  &#39;it&#39;,
  &#39;a&#39;,
  &#39;deadpan&#39;,
  &#39;feel&#39;,
  &#39;,&#39;,
  &#39;which&#39;,
  &#39;makes&#39;,
  &#39;it&#39;,
  &#39;all&#39;,
  &#39;the&#39;,
  &#39;more&#39;,
  &#39;funnier&#39;,
  &#39;and&#39;,
  &#39;odder&#39;,
  &#39;.&#39;,
  &#39;jones&#39;,
  &#39;plays&#39;,
  &#39;the&#39;,
  &#39;venerable&#39;,
  &#39;seen&#39;,
  &#39;-&#39;,
  &#39;it&#39;,
  &#39;-&#39;,
  &#39;all&#39;,
  &#39;agent&#39;,
  &#39;with&#39;,
  &#39;seriousness&#39;,
  &#39;and&#39;,
  &#39;maturity&#39;,
  &#39;.&#39;,
  &#39;smith&#39;,
  &#39;is&#39;,
  &#39;likeable&#39;,
  &#39;and&#39;,
  &#39;makes&#39;,
  &#39;a&#39;,
  &#39;great&#39;,
  &#39;comic&#39;,
  &#39;partner&#39;,
  &#39;to&#39;,
  &#39;jones&#39;,
  &quot;&#39;&quot;,
  &#39;straight&#39;,
  &#39;man&#39;,
  &#39;routine&#39;,
  &#39;.&#39;,
  &#39;they&#39;,
  &#39;click&#39;,
  &#39;like&#39;,
  &#39;dorothy&#39;,
  &quot;&#39;&quot;,
  &#39;s&#39;,
  &#39;ruby&#39;,
  &#39;red&#39;,
  &#39;shoes&#39;,
  &#39;.&#39;,
  &#39;the&#39;,
  &#39;look&#39;,
  &#39;and&#39;,
  &#39;feel&#39;,
  &#39;of&#39;,
  &#39;the&#39;,
  &#39;movie&#39;,
  &#39;is&#39;,
  &#39;made&#39;,
  &#39;even&#39;,
  &#39;better&#39;,
  &#39;with&#39;,
  &#39;direction&#39;,
  &#39;from&#39;,
  &#39;barry&#39;,
  &#39;sonnenfeld&#39;,
  &#39;(&#39;,
  &#39;the&#39;,
  &#39;addam&#39;,
  &quot;&#39;&quot;,
  &#39;s&#39;,
  &#39;family&#39;,
  &#39;)&#39;,
  &#39;.&#39;,
  &#39;this&#39;,
  &#39;guy&#39;,
  &#39;has&#39;,
  &#39;a&#39;,
  &#39;knack&#39;,
  &#39;for&#39;,
  &quot;&#39;&quot;,
  &#39;gothic&#39;,
  &quot;&#39;&quot;,
  &#39;comedy&#39;,
  &#39;,&#39;,
  &#39;and&#39;,
  &#39;successfully&#39;,
  &#39;transfers&#39;,
  &#39;his&#39;,
  &#39;macabre&#39;,
  &#39;sense&#39;,
  &#39;of&#39;,
  &#39;humor&#39;,
  &#39;onto&#39;,
  &#39;the&#39;,
  &#39;screen&#39;,
  &#39;.&#39;,
  &#39;and&#39;,
  &#39;,&#39;,
  &#39;an&#39;,
  &#39;appropriate&#39;,
  &#39;dose&#39;,
  &#39;of&#39;,
  &#39;special&#39;,
  &#39;effects&#39;,
  &#39;helps&#39;,
  &#39;to&#39;,
  &#39;bolster&#39;,
  &#39;the&#39;,
  &#39;oddness&#39;,
  &#39;of&#39;,
  &#39;their&#39;,
  &#39;task&#39;,
  &#39;without&#39;,
  &#39;diverting&#39;,
  &#39;attention&#39;,
  &#39;from&#39;,
  &#39;the&#39;,
  &#39;human&#39;,
  &#39;actors&#39;,
  &#39;.&#39;,
  &#39;the&#39;,
  &#39;story&#39;,
  &#39;moves&#39;,
  &#39;well&#39;,
  &#39;,&#39;,
  &#39;and&#39;,
  &#39;before&#39;,
  &#39;you&#39;,
  &#39;know&#39;,
  &#39;it&#39;,
  &#39;,&#39;,
  &#39;the&#39;,
  &#39;end&#39;,
  &#39;credits&#39;,
  &#39;are&#39;,
  &#39;already&#39;,
  &#39;rolling&#39;,
  &#39;!&#39;,
  &#39;the&#39;,
  &#39;result&#39;,
  &#39;is&#39;,
  &#39;100&#39;,
  &#39;minutes&#39;,
  &#39;worth&#39;,
  &#39;of&#39;,
  &#39;fun&#39;,
  &#39;in&#39;,
  &#39;the&#39;,
  &#39;form&#39;,
  &#39;of&#39;,
  &#39;ewwwws&#39;,
  &#39;and&#39;,
  &#39;blechhhs&#39;,
  &#39;,&#39;,
  &#39;aaaahhhs&#39;,
  &#39;and&#39;,
  &#39;wows&#39;,
  &#39;.&#39;,
  &#39;let&#39;,
  &#39;the&#39;,
  &#39;men&#39;,
  &#39;in&#39;,
  &#39;black&#39;,
  &#39;protect&#39;,
  &#39;and&#39;,
  &#39;color&#39;,
  &#39;your&#39;,
  &#39;world&#39;,
  &#39;.&#39;],
 &#39;pos&#39;)
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">all_words = [w.lower() <span class="keyword">for</span> w <span class="keyword">in</span> movie_reviews.words()]</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">all_words</span><br></pre></td></tr></table></figure>
<pre><code>[&#39;plot&#39;,
 &#39;:&#39;,
 &#39;two&#39;,
 &#39;teen&#39;,
 &#39;couples&#39;,
 &#39;go&#39;,
 &#39;to&#39;,
 &#39;a&#39;,
 &#39;church&#39;,
 &#39;party&#39;,
 &#39;,&#39;,
 &#39;drink&#39;,
 &#39;and&#39;,
 &#39;then&#39;,
 &#39;drive&#39;,
 &#39;.&#39;,
 &#39;they&#39;,
 &#39;get&#39;,
 &#39;into&#39;,
 &#39;an&#39;,
 &#39;accident&#39;,
 &#39;.&#39;,
 &#39;one&#39;,
 &#39;of&#39;,
 &#39;the&#39;,
 &#39;guys&#39;,
 &#39;dies&#39;,
 &#39;,&#39;,
 &#39;but&#39;,
 &#39;his&#39;,
 &#39;girlfriend&#39;,
 &#39;continues&#39;,
 &#39;to&#39;,
 &#39;see&#39;,
 &#39;him&#39;,
 &#39;in&#39;,
 &#39;her&#39;,
 &#39;life&#39;,
 &#39;,&#39;,
 &#39;and&#39;,
 &#39;has&#39;,
 &#39;nightmares&#39;,
 &#39;.&#39;,
 &#39;what&#39;,
 &quot;&#39;&quot;,
 &#39;s&#39;,
 &#39;the&#39;,
 &#39;deal&#39;,
 &#39;?&#39;,
 &#39;watch&#39;,
 &#39;the&#39;,
 &#39;movie&#39;,
 &#39;and&#39;,
 &#39;&quot;&#39;,
 &#39;sorta&#39;,
 &#39;&quot;&#39;,
 &#39;find&#39;,
 &#39;out&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;critique&#39;,
 &#39;:&#39;,
 &#39;a&#39;,
 &#39;mind&#39;,
 &#39;-&#39;,
 &#39;fuck&#39;,
 &#39;movie&#39;,
 &#39;for&#39;,
 &#39;the&#39;,
 &#39;teen&#39;,
 &#39;generation&#39;,
 &#39;that&#39;,
 &#39;touches&#39;,
 &#39;on&#39;,
 &#39;a&#39;,
 &#39;very&#39;,
 &#39;cool&#39;,
 &#39;idea&#39;,
 &#39;,&#39;,
 &#39;but&#39;,
 &#39;presents&#39;,
 &#39;it&#39;,
 &#39;in&#39;,
 &#39;a&#39;,
 &#39;very&#39;,
 &#39;bad&#39;,
 &#39;package&#39;,
 &#39;.&#39;,
 &#39;which&#39;,
 &#39;is&#39;,
 &#39;what&#39;,
 &#39;makes&#39;,
 &#39;this&#39;,
 &#39;review&#39;,
 &#39;an&#39;,
 &#39;even&#39;,
 &#39;harder&#39;,
 &#39;one&#39;,
 &#39;to&#39;,
 &#39;write&#39;,
 &#39;,&#39;,
 &#39;since&#39;,
 &#39;i&#39;,
 &#39;generally&#39;,
 &#39;applaud&#39;,
 &#39;films&#39;,
 &#39;which&#39;,
 &#39;attempt&#39;,
 &#39;to&#39;,
 &#39;break&#39;,
 &#39;the&#39;,
 &#39;mold&#39;,
 &#39;,&#39;,
 &#39;mess&#39;,
 &#39;with&#39;,
 &#39;your&#39;,
 &#39;head&#39;,
 &#39;and&#39;,
 &#39;such&#39;,
 &#39;(&#39;,
 &#39;lost&#39;,
 &#39;highway&#39;,
 &#39;&amp;&#39;,
 &#39;memento&#39;,
 &#39;)&#39;,
 &#39;,&#39;,
 &#39;but&#39;,
 &#39;there&#39;,
 &#39;are&#39;,
 &#39;good&#39;,
 &#39;and&#39;,
 &#39;bad&#39;,
 &#39;ways&#39;,
 &#39;of&#39;,
 &#39;making&#39;,
 &#39;all&#39;,
 &#39;types&#39;,
 &#39;of&#39;,
 &#39;films&#39;,
 &#39;,&#39;,
 &#39;and&#39;,
 &#39;these&#39;,
 &#39;folks&#39;,
 &#39;just&#39;,
 &#39;didn&#39;,
 &quot;&#39;&quot;,
 &#39;t&#39;,
 &#39;snag&#39;,
 &#39;this&#39;,
 &#39;one&#39;,
 &#39;correctly&#39;,
 &#39;.&#39;,
 &#39;they&#39;,
 &#39;seem&#39;,
 &#39;to&#39;,
 &#39;have&#39;,
 &#39;taken&#39;,
 &#39;this&#39;,
 &#39;pretty&#39;,
 &#39;neat&#39;,
 &#39;concept&#39;,
 &#39;,&#39;,
 &#39;but&#39;,
 &#39;executed&#39;,
 &#39;it&#39;,
 &#39;terribly&#39;,
 &#39;.&#39;,
 &#39;so&#39;,
 &#39;what&#39;,
 &#39;are&#39;,
 &#39;the&#39;,
 &#39;problems&#39;,
 &#39;with&#39;,
 &#39;the&#39;,
 &#39;movie&#39;,
 &#39;?&#39;,
 &#39;well&#39;,
 &#39;,&#39;,
 &#39;its&#39;,
 &#39;main&#39;,
 &#39;problem&#39;,
 &#39;is&#39;,
 &#39;that&#39;,
 &#39;it&#39;,
 &quot;&#39;&quot;,
 &#39;s&#39;,
 &#39;simply&#39;,
 &#39;too&#39;,
 &#39;jumbled&#39;,
 &#39;.&#39;,
 &#39;it&#39;,
 &#39;starts&#39;,
 &#39;off&#39;,
 &#39;&quot;&#39;,
 &#39;normal&#39;,
 &#39;&quot;&#39;,
 &#39;but&#39;,
 &#39;then&#39;,
 &#39;downshifts&#39;,
 &#39;into&#39;,
 &#39;this&#39;,
 &#39;&quot;&#39;,
 &#39;fantasy&#39;,
 &#39;&quot;&#39;,
 &#39;world&#39;,
 &#39;in&#39;,
 &#39;which&#39;,
 &#39;you&#39;,
 &#39;,&#39;,
 &#39;as&#39;,
 &#39;an&#39;,
 &#39;audience&#39;,
 &#39;member&#39;,
 &#39;,&#39;,
 &#39;have&#39;,
 &#39;no&#39;,
 &#39;idea&#39;,
 &#39;what&#39;,
 &quot;&#39;&quot;,
 &#39;s&#39;,
 &#39;going&#39;,
 &#39;on&#39;,
 &#39;.&#39;,
 &#39;there&#39;,
 &#39;are&#39;,
 &#39;dreams&#39;,
 &#39;,&#39;,
 &#39;there&#39;,
 &#39;are&#39;,
 &#39;characters&#39;,
 &#39;coming&#39;,
 &#39;back&#39;,
 &#39;from&#39;,
 &#39;the&#39;,
 &#39;dead&#39;,
 &#39;,&#39;,
 &#39;there&#39;,
 &#39;are&#39;,
 &#39;others&#39;,
 &#39;who&#39;,
 &#39;look&#39;,
 &#39;like&#39;,
 &#39;the&#39;,
 &#39;dead&#39;,
 &#39;,&#39;,
 &#39;there&#39;,
 &#39;are&#39;,
 &#39;strange&#39;,
 &#39;apparitions&#39;,
 &#39;,&#39;,
 &#39;there&#39;,
 &#39;are&#39;,
 &#39;disappearances&#39;,
 &#39;,&#39;,
 &#39;there&#39;,
 &#39;are&#39;,
 &#39;a&#39;,
 &#39;looooot&#39;,
 &#39;of&#39;,
 &#39;chase&#39;,
 &#39;scenes&#39;,
 &#39;,&#39;,
 &#39;there&#39;,
 &#39;are&#39;,
 &#39;tons&#39;,
 &#39;of&#39;,
 &#39;weird&#39;,
 &#39;things&#39;,
 &#39;that&#39;,
 &#39;happen&#39;,
 &#39;,&#39;,
 &#39;and&#39;,
 &#39;most&#39;,
 &#39;of&#39;,
 &#39;it&#39;,
 &#39;is&#39;,
 &#39;simply&#39;,
 &#39;not&#39;,
 &#39;explained&#39;,
 &#39;.&#39;,
 &#39;now&#39;,
 &#39;i&#39;,
 &#39;personally&#39;,
 &#39;don&#39;,
 &quot;&#39;&quot;,
 &#39;t&#39;,
 &#39;mind&#39;,
 &#39;trying&#39;,
 &#39;to&#39;,
 &#39;unravel&#39;,
 &#39;a&#39;,
 &#39;film&#39;,
 &#39;every&#39;,
 &#39;now&#39;,
 &#39;and&#39;,
 &#39;then&#39;,
 &#39;,&#39;,
 &#39;but&#39;,
 &#39;when&#39;,
 &#39;all&#39;,
 &#39;it&#39;,
 &#39;does&#39;,
 &#39;is&#39;,
 &#39;give&#39;,
 &#39;me&#39;,
 &#39;the&#39;,
 &#39;same&#39;,
 &#39;clue&#39;,
 &#39;over&#39;,
 &#39;and&#39;,
 &#39;over&#39;,
 &#39;again&#39;,
 &#39;,&#39;,
 &#39;i&#39;,
 &#39;get&#39;,
 &#39;kind&#39;,
 &#39;of&#39;,
 &#39;fed&#39;,
 &#39;up&#39;,
 &#39;after&#39;,
 &#39;a&#39;,
 &#39;while&#39;,
 &#39;,&#39;,
 &#39;which&#39;,
 &#39;is&#39;,
 &#39;this&#39;,
 &#39;film&#39;,
 &quot;&#39;&quot;,
 &#39;s&#39;,
 &#39;biggest&#39;,
 &#39;problem&#39;,
 &#39;.&#39;,
 &#39;it&#39;,
 &quot;&#39;&quot;,
 &#39;s&#39;,
 &#39;obviously&#39;,
 &#39;got&#39;,
 &#39;this&#39;,
 &#39;big&#39;,
 &#39;secret&#39;,
 &#39;to&#39;,
 &#39;hide&#39;,
 &#39;,&#39;,
 &#39;but&#39;,
 &#39;it&#39;,
 &#39;seems&#39;,
 &#39;to&#39;,
 &#39;want&#39;,
 &#39;to&#39;,
 &#39;hide&#39;,
 &#39;it&#39;,
 &#39;completely&#39;,
 &#39;until&#39;,
 &#39;its&#39;,
 &#39;final&#39;,
 &#39;five&#39;,
 &#39;minutes&#39;,
 &#39;.&#39;,
 &#39;and&#39;,
 &#39;do&#39;,
 &#39;they&#39;,
 &#39;make&#39;,
 &#39;things&#39;,
 &#39;entertaining&#39;,
 &#39;,&#39;,
 &#39;thrilling&#39;,
 &#39;or&#39;,
 &#39;even&#39;,
 &#39;engaging&#39;,
 &#39;,&#39;,
 &#39;in&#39;,
 &#39;the&#39;,
 &#39;meantime&#39;,
 &#39;?&#39;,
 &#39;not&#39;,
 &#39;really&#39;,
 &#39;.&#39;,
 &#39;the&#39;,
 &#39;sad&#39;,
 &#39;part&#39;,
 &#39;is&#39;,
 &#39;that&#39;,
 &#39;the&#39;,
 &#39;arrow&#39;,
 &#39;and&#39;,
 &#39;i&#39;,
 &#39;both&#39;,
 &#39;dig&#39;,
 &#39;on&#39;,
 &#39;flicks&#39;,
 &#39;like&#39;,
 &#39;this&#39;,
 &#39;,&#39;,
 &#39;so&#39;,
 &#39;we&#39;,
 &#39;actually&#39;,
 &#39;figured&#39;,
 &#39;most&#39;,
 &#39;of&#39;,
 &#39;it&#39;,
 &#39;out&#39;,
 &#39;by&#39;,
 &#39;the&#39;,
 &#39;half&#39;,
 &#39;-&#39;,
 &#39;way&#39;,
 &#39;point&#39;,
 &#39;,&#39;,
 &#39;so&#39;,
 &#39;all&#39;,
 &#39;of&#39;,
 &#39;the&#39;,
 &#39;strangeness&#39;,
 &#39;after&#39;,
 &#39;that&#39;,
 &#39;did&#39;,
 &#39;start&#39;,
 &#39;to&#39;,
 &#39;make&#39;,
 &#39;a&#39;,
 &#39;little&#39;,
 &#39;bit&#39;,
 &#39;of&#39;,
 &#39;sense&#39;,
 &#39;,&#39;,
 &#39;but&#39;,
 &#39;it&#39;,
 &#39;still&#39;,
 &#39;didn&#39;,
 &quot;&#39;&quot;,
 &#39;t&#39;,
 &#39;the&#39;,
 &#39;make&#39;,
 &#39;the&#39;,
 &#39;film&#39;,
 &#39;all&#39;,
 &#39;that&#39;,
 &#39;more&#39;,
 &#39;entertaining&#39;,
 &#39;.&#39;,
 &#39;i&#39;,
 &#39;guess&#39;,
 &#39;the&#39;,
 &#39;bottom&#39;,
 &#39;line&#39;,
 &#39;with&#39;,
 &#39;movies&#39;,
 &#39;like&#39;,
 &#39;this&#39;,
 &#39;is&#39;,
 &#39;that&#39;,
 &#39;you&#39;,
 &#39;should&#39;,
 &#39;always&#39;,
 &#39;make&#39;,
 &#39;sure&#39;,
 &#39;that&#39;,
 &#39;the&#39;,
 &#39;audience&#39;,
 &#39;is&#39;,
 &#39;&quot;&#39;,
 &#39;into&#39;,
 &#39;it&#39;,
 &#39;&quot;&#39;,
 &#39;even&#39;,
 &#39;before&#39;,
 &#39;they&#39;,
 &#39;are&#39;,
 &#39;given&#39;,
 &#39;the&#39;,
 &#39;secret&#39;,
 &#39;password&#39;,
 &#39;to&#39;,
 &#39;enter&#39;,
 &#39;your&#39;,
 &#39;world&#39;,
 &#39;of&#39;,
 &#39;understanding&#39;,
 &#39;.&#39;,
 &#39;i&#39;,
 &#39;mean&#39;,
 &#39;,&#39;,
 &#39;showing&#39;,
 &#39;melissa&#39;,
 &#39;sagemiller&#39;,
 &#39;running&#39;,
 &#39;away&#39;,
 &#39;from&#39;,
 &#39;visions&#39;,
 &#39;for&#39;,
 &#39;about&#39;,
 &#39;20&#39;,
 &#39;minutes&#39;,
 &#39;throughout&#39;,
 &#39;the&#39;,
 &#39;movie&#39;,
 &#39;is&#39;,
 &#39;just&#39;,
 &#39;plain&#39;,
 &#39;lazy&#39;,
 &#39;!&#39;,
 &#39;!&#39;,
 &#39;okay&#39;,
 &#39;,&#39;,
 &#39;we&#39;,
 &#39;get&#39;,
 &#39;it&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;there&#39;,
 &#39;are&#39;,
 &#39;people&#39;,
 &#39;chasing&#39;,
 &#39;her&#39;,
 &#39;and&#39;,
 &#39;we&#39;,
 &#39;don&#39;,
 &quot;&#39;&quot;,
 &#39;t&#39;,
 &#39;know&#39;,
 &#39;who&#39;,
 &#39;they&#39;,
 &#39;are&#39;,
 &#39;.&#39;,
 &#39;do&#39;,
 &#39;we&#39;,
 &#39;really&#39;,
 &#39;need&#39;,
 &#39;to&#39;,
 &#39;see&#39;,
 &#39;it&#39;,
 &#39;over&#39;,
 &#39;and&#39;,
 &#39;over&#39;,
 &#39;again&#39;,
 &#39;?&#39;,
 &#39;how&#39;,
 &#39;about&#39;,
 &#39;giving&#39;,
 &#39;us&#39;,
 &#39;different&#39;,
 &#39;scenes&#39;,
 &#39;offering&#39;,
 &#39;further&#39;,
 &#39;insight&#39;,
 &#39;into&#39;,
 &#39;all&#39;,
 &#39;of&#39;,
 &#39;the&#39;,
 &#39;strangeness&#39;,
 &#39;going&#39;,
 &#39;down&#39;,
 &#39;in&#39;,
 &#39;the&#39;,
 &#39;movie&#39;,
 &#39;?&#39;,
 &#39;apparently&#39;,
 &#39;,&#39;,
 &#39;the&#39;,
 &#39;studio&#39;,
 &#39;took&#39;,
 &#39;this&#39;,
 &#39;film&#39;,
 &#39;away&#39;,
 &#39;from&#39;,
 &#39;its&#39;,
 &#39;director&#39;,
 &#39;and&#39;,
 &#39;chopped&#39;,
 &#39;it&#39;,
 &#39;up&#39;,
 &#39;themselves&#39;,
 &#39;,&#39;,
 &#39;and&#39;,
 &#39;it&#39;,
 &#39;shows&#39;,
 &#39;.&#39;,
 &#39;there&#39;,
 &#39;might&#39;,
 &quot;&#39;&quot;,
 &#39;ve&#39;,
 &#39;been&#39;,
 &#39;a&#39;,
 &#39;pretty&#39;,
 &#39;decent&#39;,
 &#39;teen&#39;,
 &#39;mind&#39;,
 &#39;-&#39;,
 &#39;fuck&#39;,
 &#39;movie&#39;,
 &#39;in&#39;,
 &#39;here&#39;,
 &#39;somewhere&#39;,
 &#39;,&#39;,
 &#39;but&#39;,
 &#39;i&#39;,
 &#39;guess&#39;,
 &#39;&quot;&#39;,
 &#39;the&#39;,
 &#39;suits&#39;,
 &#39;&quot;&#39;,
 &#39;decided&#39;,
 &#39;that&#39;,
 &#39;turning&#39;,
 &#39;it&#39;,
 &#39;into&#39;,
 &#39;a&#39;,
 &#39;music&#39;,
 &#39;video&#39;,
 &#39;with&#39;,
 &#39;little&#39;,
 &#39;edge&#39;,
 &#39;,&#39;,
 &#39;would&#39;,
 &#39;make&#39;,
 &#39;more&#39;,
 &#39;sense&#39;,
 &#39;.&#39;,
 &#39;the&#39;,
 &#39;actors&#39;,
 &#39;are&#39;,
 &#39;pretty&#39;,
 &#39;good&#39;,
 &#39;for&#39;,
 &#39;the&#39;,
 &#39;most&#39;,
 &#39;part&#39;,
 &#39;,&#39;,
 &#39;although&#39;,
 &#39;wes&#39;,
 &#39;bentley&#39;,
 &#39;just&#39;,
 &#39;seemed&#39;,
 &#39;to&#39;,
 &#39;be&#39;,
 &#39;playing&#39;,
 &#39;the&#39;,
 &#39;exact&#39;,
 &#39;same&#39;,
 &#39;character&#39;,
 &#39;that&#39;,
 &#39;he&#39;,
 &#39;did&#39;,
 &#39;in&#39;,
 &#39;american&#39;,
 &#39;beauty&#39;,
 &#39;,&#39;,
 &#39;only&#39;,
 &#39;in&#39;,
 &#39;a&#39;,
 &#39;new&#39;,
 &#39;neighborhood&#39;,
 &#39;.&#39;,
 &#39;but&#39;,
 &#39;my&#39;,
 &#39;biggest&#39;,
 &#39;kudos&#39;,
 &#39;go&#39;,
 &#39;out&#39;,
 &#39;to&#39;,
 &#39;sagemiller&#39;,
 &#39;,&#39;,
 &#39;who&#39;,
 &#39;holds&#39;,
 &#39;her&#39;,
 &#39;own&#39;,
 &#39;throughout&#39;,
 &#39;the&#39;,
 &#39;entire&#39;,
 &#39;film&#39;,
 &#39;,&#39;,
 &#39;and&#39;,
 &#39;actually&#39;,
 &#39;has&#39;,
 &#39;you&#39;,
 &#39;feeling&#39;,
 &#39;her&#39;,
 &#39;character&#39;,
 &quot;&#39;&quot;,
 &#39;s&#39;,
 &#39;unraveling&#39;,
 &#39;.&#39;,
 &#39;overall&#39;,
 &#39;,&#39;,
 &#39;the&#39;,
 &#39;film&#39;,
 &#39;doesn&#39;,
 &quot;&#39;&quot;,
 &#39;t&#39;,
 &#39;stick&#39;,
 &#39;because&#39;,
 &#39;it&#39;,
 &#39;doesn&#39;,
 &quot;&#39;&quot;,
 &#39;t&#39;,
 &#39;entertain&#39;,
 &#39;,&#39;,
 &#39;it&#39;,
 &quot;&#39;&quot;,
 &#39;s&#39;,
 &#39;confusing&#39;,
 &#39;,&#39;,
 &#39;it&#39;,
 &#39;rarely&#39;,
 &#39;excites&#39;,
 &#39;and&#39;,
 &#39;it&#39;,
 &#39;feels&#39;,
 &#39;pretty&#39;,
 &#39;redundant&#39;,
 &#39;for&#39;,
 &#39;most&#39;,
 &#39;of&#39;,
 &#39;its&#39;,
 &#39;runtime&#39;,
 &#39;,&#39;,
 &#39;despite&#39;,
 &#39;a&#39;,
 &#39;pretty&#39;,
 &#39;cool&#39;,
 &#39;ending&#39;,
 &#39;and&#39;,
 &#39;explanation&#39;,
 &#39;to&#39;,
 &#39;all&#39;,
 &#39;of&#39;,
 &#39;the&#39;,
 &#39;craziness&#39;,
 &#39;that&#39;,
 &#39;came&#39;,
 &#39;before&#39;,
 &#39;it&#39;,
 &#39;.&#39;,
 &#39;oh&#39;,
 &#39;,&#39;,
 &#39;and&#39;,
 &#39;by&#39;,
 &#39;the&#39;,
 &#39;way&#39;,
 &#39;,&#39;,
 &#39;this&#39;,
 &#39;is&#39;,
 &#39;not&#39;,
 &#39;a&#39;,
 &#39;horror&#39;,
 &#39;or&#39;,
 &#39;teen&#39;,
 &#39;slasher&#39;,
 &#39;flick&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;it&#39;,
 &quot;&#39;&quot;,
 &#39;s&#39;,
 &#39;just&#39;,
 &#39;packaged&#39;,
 &#39;to&#39;,
 &#39;look&#39;,
 &#39;that&#39;,
 &#39;way&#39;,
 &#39;because&#39;,
 &#39;someone&#39;,
 &#39;is&#39;,
 &#39;apparently&#39;,
 &#39;assuming&#39;,
 &#39;that&#39;,
 &#39;the&#39;,
 &#39;genre&#39;,
 &#39;is&#39;,
 &#39;still&#39;,
 &#39;hot&#39;,
 &#39;with&#39;,
 &#39;the&#39;,
 &#39;kids&#39;,
 &#39;.&#39;,
 &#39;it&#39;,
 &#39;also&#39;,
 &#39;wrapped&#39;,
 &#39;production&#39;,
 &#39;two&#39;,
 &#39;years&#39;,
 &#39;ago&#39;,
 &#39;and&#39;,
 &#39;has&#39;,
 &#39;been&#39;,
 &#39;sitting&#39;,
 &#39;on&#39;,
 &#39;the&#39;,
 &#39;shelves&#39;,
 &#39;ever&#39;,
 &#39;since&#39;,
 &#39;.&#39;,
 &#39;whatever&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;skip&#39;,
 &#39;it&#39;,
 &#39;!&#39;,
 &#39;where&#39;,
 &quot;&#39;&quot;,
 &#39;s&#39;,
 &#39;joblo&#39;,
 &#39;coming&#39;,
 &#39;from&#39;,
 &#39;?&#39;,
 &#39;a&#39;,
 &#39;nightmare&#39;,
 &#39;of&#39;,
 &#39;elm&#39;,
 &#39;street&#39;,
 &#39;3&#39;,
 &#39;(&#39;,
 &#39;7&#39;,
 &#39;/&#39;,
 &#39;10&#39;,
 &#39;)&#39;,
 &#39;-&#39;,
 &#39;blair&#39;,
 &#39;witch&#39;,
 &#39;2&#39;,
 &#39;(&#39;,
 &#39;7&#39;,
 &#39;/&#39;,
 &#39;10&#39;,
 &#39;)&#39;,
 &#39;-&#39;,
 &#39;the&#39;,
 &#39;crow&#39;,
 &#39;(&#39;,
 &#39;9&#39;,
 &#39;/&#39;,
 &#39;10&#39;,
 &#39;)&#39;,
 &#39;-&#39;,
 &#39;the&#39;,
 &#39;crow&#39;,
 &#39;:&#39;,
 &#39;salvation&#39;,
 &#39;(&#39;,
 &#39;4&#39;,
 &#39;/&#39;,
 &#39;10&#39;,
 &#39;)&#39;,
 &#39;-&#39;,
 &#39;lost&#39;,
 &#39;highway&#39;,
 &#39;(&#39;,
 &#39;10&#39;,
 &#39;/&#39;,
 &#39;10&#39;,
 &#39;)&#39;,
 &#39;-&#39;,
 &#39;memento&#39;,
 &#39;(&#39;,
 &#39;10&#39;,
 &#39;/&#39;,
 &#39;10&#39;,
 &#39;)&#39;,
 &#39;-&#39;,
 &#39;the&#39;,
 &#39;others&#39;,
 &#39;(&#39;,
 &#39;9&#39;,
 &#39;/&#39;,
 &#39;10&#39;,
 &#39;)&#39;,
 &#39;-&#39;,
 &#39;stir&#39;,
 &#39;of&#39;,
 &#39;echoes&#39;,
 &#39;(&#39;,
 &#39;8&#39;,
 &#39;/&#39;,
 &#39;10&#39;,
 &#39;)&#39;,
 &#39;the&#39;,
 &#39;happy&#39;,
 &#39;bastard&#39;,
 &quot;&#39;&quot;,
 &#39;s&#39;,
 &#39;quick&#39;,
 &#39;movie&#39;,
 &#39;review&#39;,
 &#39;damn&#39;,
 &#39;that&#39;,
 &#39;y2k&#39;,
 &#39;bug&#39;,
 &#39;.&#39;,
 &#39;it&#39;,
 &quot;&#39;&quot;,
 &#39;s&#39;,
 &#39;got&#39;,
 &#39;a&#39;,
 &#39;head&#39;,
 &#39;start&#39;,
 &#39;in&#39;,
 &#39;this&#39;,
 &#39;movie&#39;,
 &#39;starring&#39;,
 &#39;jamie&#39;,
 &#39;lee&#39;,
 &#39;curtis&#39;,
 &#39;and&#39;,
 &#39;another&#39;,
 &#39;baldwin&#39;,
 &#39;brother&#39;,
 &#39;(&#39;,
 &#39;william&#39;,
 &#39;this&#39;,
 &#39;time&#39;,
 &#39;)&#39;,
 &#39;in&#39;,
 &#39;a&#39;,
 &#39;story&#39;,
 &#39;regarding&#39;,
 &#39;a&#39;,
 &#39;crew&#39;,
 &#39;of&#39;,
 &#39;a&#39;,
 &#39;tugboat&#39;,
 &#39;that&#39;,
 &#39;comes&#39;,
 &#39;across&#39;,
 &#39;a&#39;,
 &#39;deserted&#39;,
 &#39;russian&#39;,
 &#39;tech&#39;,
 &#39;ship&#39;,
 &#39;that&#39;,
 &#39;has&#39;,
 &#39;a&#39;,
 &#39;strangeness&#39;,
 &#39;to&#39;,
 &#39;it&#39;,
 &#39;when&#39;,
 &#39;they&#39;,
 &#39;kick&#39;,
 &#39;the&#39;,
 &#39;power&#39;,
 &#39;back&#39;,
 &#39;on&#39;,
 &#39;.&#39;,
 &#39;little&#39;,
 &#39;do&#39;,
 &#39;they&#39;,
 &#39;know&#39;,
 &#39;the&#39;,
 &#39;power&#39;,
 &#39;within&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;going&#39;,
 &#39;for&#39;,
 &#39;the&#39;,
 &#39;gore&#39;,
 &#39;and&#39;,
 &#39;bringing&#39;,
 &#39;on&#39;,
 &#39;a&#39;,
 &#39;few&#39;,
 &#39;action&#39;,
 &#39;sequences&#39;,
 &#39;here&#39;,
 &#39;and&#39;,
 &#39;there&#39;,
 &#39;,&#39;,
 &#39;virus&#39;,
 &#39;still&#39;,
 &#39;feels&#39;,
 &#39;very&#39;,
 &#39;empty&#39;,
 &#39;,&#39;,
 &#39;like&#39;,
 &#39;a&#39;,
 &#39;movie&#39;,
 &#39;going&#39;,
 &#39;for&#39;,
 &#39;all&#39;,
 &#39;flash&#39;,
 &#39;and&#39;,
 &#39;no&#39;,
 &#39;substance&#39;,
 &#39;.&#39;,
 &#39;we&#39;,
 &#39;don&#39;,
 &quot;&#39;&quot;,
 &#39;t&#39;,
 &#39;know&#39;,
 &#39;why&#39;,
 &#39;the&#39;,
 &#39;crew&#39;,
 &#39;was&#39;,
 &#39;really&#39;,
 &#39;out&#39;,
 &#39;in&#39;,
 ...]
</code></pre><p><strong>Warning</strong>:At the begining, I just writed the follow codes like this:<code>new_all_words = [w for w in all_words if w not in nltk.corpus.stopwords.words(&#39;english&#39;)</code>,however the code couldn’t complite successfully even I had been waiting for several minites. Finally, I found that the I/O operations can be 1583820 times, and the operation system read data from the hark disk again and again without saying any thing,it was so stupid.So when we programming,we should set the I/O resources as a variable if it will be used for several times. </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">stopwords = nltk.corpus.stopwords.words(<span class="string">'english'</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">new_all_words = [w <span class="keyword">for</span> w <span class="keyword">in</span> all_words <span class="keyword">if</span> w <span class="keyword">not</span> <span class="keyword">in</span> stopwords]</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">new_all_words = [w <span class="keyword">for</span> w <span class="keyword">in</span> new_all_words <span class="keyword">if</span> w.isalpha()]</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">len(all_words)</span><br></pre></td></tr></table></figure>
<pre><code>1583820
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">len(nltk.corpus.stopwords.words(<span class="string">'english'</span>))</span><br></pre></td></tr></table></figure>
<pre><code>179
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nltk.corpus.stopwords.words(<span class="string">'english'</span>)</span><br></pre></td></tr></table></figure>
<pre><code>[&#39;i&#39;,
 &#39;me&#39;,
 &#39;my&#39;,
 &#39;myself&#39;,
 &#39;we&#39;,
 &#39;our&#39;,
 &#39;ours&#39;,
 &#39;ourselves&#39;,
 &#39;you&#39;,
 &quot;you&#39;re&quot;,
 &quot;you&#39;ve&quot;,
 &quot;you&#39;ll&quot;,
 &quot;you&#39;d&quot;,
 &#39;your&#39;,
 &#39;yours&#39;,
 &#39;yourself&#39;,
 &#39;yourselves&#39;,
 &#39;he&#39;,
 &#39;him&#39;,
 &#39;his&#39;,
 &#39;himself&#39;,
 &#39;she&#39;,
 &quot;she&#39;s&quot;,
 &#39;her&#39;,
 &#39;hers&#39;,
 &#39;herself&#39;,
 &#39;it&#39;,
 &quot;it&#39;s&quot;,
 &#39;its&#39;,
 &#39;itself&#39;,
 &#39;they&#39;,
 &#39;them&#39;,
 &#39;their&#39;,
 &#39;theirs&#39;,
 &#39;themselves&#39;,
 &#39;what&#39;,
 &#39;which&#39;,
 &#39;who&#39;,
 &#39;whom&#39;,
 &#39;this&#39;,
 &#39;that&#39;,
 &quot;that&#39;ll&quot;,
 &#39;these&#39;,
 &#39;those&#39;,
 &#39;am&#39;,
 &#39;is&#39;,
 &#39;are&#39;,
 &#39;was&#39;,
 &#39;were&#39;,
 &#39;be&#39;,
 &#39;been&#39;,
 &#39;being&#39;,
 &#39;have&#39;,
 &#39;has&#39;,
 &#39;had&#39;,
 &#39;having&#39;,
 &#39;do&#39;,
 &#39;does&#39;,
 &#39;did&#39;,
 &#39;doing&#39;,
 &#39;a&#39;,
 &#39;an&#39;,
 &#39;the&#39;,
 &#39;and&#39;,
 &#39;but&#39;,
 &#39;if&#39;,
 &#39;or&#39;,
 &#39;because&#39;,
 &#39;as&#39;,
 &#39;until&#39;,
 &#39;while&#39;,
 &#39;of&#39;,
 &#39;at&#39;,
 &#39;by&#39;,
 &#39;for&#39;,
 &#39;with&#39;,
 &#39;about&#39;,
 &#39;against&#39;,
 &#39;between&#39;,
 &#39;into&#39;,
 &#39;through&#39;,
 &#39;during&#39;,
 &#39;before&#39;,
 &#39;after&#39;,
 &#39;above&#39;,
 &#39;below&#39;,
 &#39;to&#39;,
 &#39;from&#39;,
 &#39;up&#39;,
 &#39;down&#39;,
 &#39;in&#39;,
 &#39;out&#39;,
 &#39;on&#39;,
 &#39;off&#39;,
 &#39;over&#39;,
 &#39;under&#39;,
 &#39;again&#39;,
 &#39;further&#39;,
 &#39;then&#39;,
 &#39;once&#39;,
 &#39;here&#39;,
 &#39;there&#39;,
 &#39;when&#39;,
 &#39;where&#39;,
 &#39;why&#39;,
 &#39;how&#39;,
 &#39;all&#39;,
 &#39;any&#39;,
 &#39;both&#39;,
 &#39;each&#39;,
 &#39;few&#39;,
 &#39;more&#39;,
 &#39;most&#39;,
 &#39;other&#39;,
 &#39;some&#39;,
 &#39;such&#39;,
 &#39;no&#39;,
 &#39;nor&#39;,
 &#39;not&#39;,
 &#39;only&#39;,
 &#39;own&#39;,
 &#39;same&#39;,
 &#39;so&#39;,
 &#39;than&#39;,
 &#39;too&#39;,
 &#39;very&#39;,
 &#39;s&#39;,
 &#39;t&#39;,
 &#39;can&#39;,
 &#39;will&#39;,
 &#39;just&#39;,
 &#39;don&#39;,
 &quot;don&#39;t&quot;,
 &#39;should&#39;,
 &quot;should&#39;ve&quot;,
 &#39;now&#39;,
 &#39;d&#39;,
 &#39;ll&#39;,
 &#39;m&#39;,
 &#39;o&#39;,
 &#39;re&#39;,
 &#39;ve&#39;,
 &#39;y&#39;,
 &#39;ain&#39;,
 &#39;aren&#39;,
 &quot;aren&#39;t&quot;,
 &#39;couldn&#39;,
 &quot;couldn&#39;t&quot;,
 &#39;didn&#39;,
 &quot;didn&#39;t&quot;,
 &#39;doesn&#39;,
 &quot;doesn&#39;t&quot;,
 &#39;hadn&#39;,
 &quot;hadn&#39;t&quot;,
 &#39;hasn&#39;,
 &quot;hasn&#39;t&quot;,
 &#39;haven&#39;,
 &quot;haven&#39;t&quot;,
 &#39;isn&#39;,
 &quot;isn&#39;t&quot;,
 &#39;ma&#39;,
 &#39;mightn&#39;,
 &quot;mightn&#39;t&quot;,
 &#39;mustn&#39;,
 &quot;mustn&#39;t&quot;,
 &#39;needn&#39;,
 &quot;needn&#39;t&quot;,
 &#39;shan&#39;,
 &quot;shan&#39;t&quot;,
 &#39;shouldn&#39;,
 &quot;shouldn&#39;t&quot;,
 &#39;wasn&#39;,
 &quot;wasn&#39;t&quot;,
 &#39;weren&#39;,
 &quot;weren&#39;t&quot;,
 &#39;won&#39;,
 &quot;won&#39;t&quot;,
 &#39;wouldn&#39;,
 &quot;wouldn&#39;t&quot;]
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">words_freqlist = nltk.FreqDist(new_all_words)</span><br><span class="line">print(words_freqlist.most_common(<span class="number">10</span>))</span><br></pre></td></tr></table></figure>
<pre><code>[(&#39;film&#39;, 9517), (&#39;one&#39;, 5852), (&#39;movie&#39;, 5771), (&#39;like&#39;, 3690), (&#39;even&#39;, 2565), (&#39;good&#39;, 2411), (&#39;time&#39;, 2411), (&#39;story&#39;, 2169), (&#39;would&#39;, 2109), (&#39;much&#39;, 2049)]
</code></pre><h3 id="12-Words-as-Features-for-Learning-用来学习的特征词汇"><a href="#12-Words-as-Features-for-Learning-用来学习的特征词汇" class="headerlink" title="12. Words as Features for Learning(用来学习的特征词汇)"></a>12. Words as Features for Learning(用来学习的特征词汇)</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">word_features = list(words_freqlist.keys())[:<span class="number">3000</span>]</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">find_features</span><span class="params">(document)</span>:</span></span><br><span class="line">    words = set(document)</span><br><span class="line">    features = &#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> w <span class="keyword">in</span> word_features:</span><br><span class="line">        features[w] = (w <span class="keyword">in</span> words)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> features</span><br><span class="line">featuresets = [(find_features(rev), category) <span class="keyword">for</span> (rev, category) <span class="keyword">in</span> documents]</span><br></pre></td></tr></table></figure>
<h3 id="13-Naive-Bayes-朴素贝叶斯"><a href="#13-Naive-Bayes-朴素贝叶斯" class="headerlink" title="13. Naive Bayes(朴素贝叶斯)"></a>13. Naive Bayes(朴素贝叶斯)</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">training_set = featuresets[:<span class="number">1900</span>]</span><br><span class="line">testing_set = featuresets[<span class="number">1900</span>:]</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">classifier = nltk.NaiveBayesClassifier.train(training_set)</span><br><span class="line">print(<span class="string">"Naive Bayes Algo accuracy:"</span>,(nltk.classify.accuracy(classifier,testing_set))*<span class="number">100</span>)</span><br></pre></td></tr></table></figure>
<pre><code>Naive Bayes Algo accuracy: 84.0
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">classifier.show_most_informative_features(<span class="number">15</span>)</span><br></pre></td></tr></table></figure>
<pre><code>Most Informative Features
                   sucks = True              neg : pos    =      8.7 : 1.0
                  annual = True              pos : neg    =      8.2 : 1.0
                 frances = True              pos : neg    =      8.2 : 1.0
           unimaginative = True              neg : pos    =      7.8 : 1.0
                 idiotic = True              neg : pos    =      7.3 : 1.0
              schumacher = True              neg : pos    =      7.1 : 1.0
                    mena = True              neg : pos    =      7.1 : 1.0
               atrocious = True              neg : pos    =      7.1 : 1.0
             silverstone = True              neg : pos    =      7.1 : 1.0
                  suvari = True              neg : pos    =      7.1 : 1.0
                  turkey = True              neg : pos    =      6.7 : 1.0
                  regard = True              pos : neg    =      6.5 : 1.0
                 kidding = True              neg : pos    =      6.4 : 1.0
                  crappy = True              neg : pos    =      6.4 : 1.0
                  shoddy = True              neg : pos    =      6.4 : 1.0
</code></pre><h3 id="14-Save-Classifier-with-Pickle-使用Pickle保存分类器"><a href="#14-Save-Classifier-with-Pickle-使用Pickle保存分类器" class="headerlink" title="14. Save Classifier with Pickle(使用Pickle保存分类器)"></a>14. Save Classifier with Pickle(使用Pickle保存分类器)</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pickle</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">save_classifier = open(<span class="string">'naivebayes.pickle'</span>,<span class="string">"wb"</span>)</span><br><span class="line">pickle.dump(classifier,save_classifier)</span><br><span class="line">save_classifier.close()</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">classifier_f = open(<span class="string">'naivebayes.pickle'</span>,<span class="string">"rb"</span>)</span><br><span class="line">classifier = pickle.load(classifier_f)</span><br><span class="line">classifier_f.close()</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">"Naive Bayes Algo accuracy:"</span>,(nltk.classify.accuracy(classifier,testing_set))*<span class="number">100</span>)</span><br><span class="line">classifier.show_most_informative_features(<span class="number">15</span>)</span><br></pre></td></tr></table></figure>
<pre><code>Naive Bayes Algo accuracy: 84.0
Most Informative Features
                   sucks = True              neg : pos    =      8.7 : 1.0
                  annual = True              pos : neg    =      8.2 : 1.0
                 frances = True              pos : neg    =      8.2 : 1.0
           unimaginative = True              neg : pos    =      7.8 : 1.0
                 idiotic = True              neg : pos    =      7.3 : 1.0
              schumacher = True              neg : pos    =      7.1 : 1.0
                    mena = True              neg : pos    =      7.1 : 1.0
               atrocious = True              neg : pos    =      7.1 : 1.0
             silverstone = True              neg : pos    =      7.1 : 1.0
                  suvari = True              neg : pos    =      7.1 : 1.0
                  turkey = True              neg : pos    =      6.7 : 1.0
                  regard = True              pos : neg    =      6.5 : 1.0
                 kidding = True              neg : pos    =      6.4 : 1.0
                  crappy = True              neg : pos    =      6.4 : 1.0
                  shoddy = True              neg : pos    =      6.4 : 1.0
</code></pre><p>training again</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">random.shuffle(documents)</span><br><span class="line">all_words = [w.lower() <span class="keyword">for</span> w <span class="keyword">in</span> movie_reviews.words()]</span><br><span class="line">new_all_words = [w <span class="keyword">for</span> w <span class="keyword">in</span> all_words <span class="keyword">if</span> w <span class="keyword">not</span> <span class="keyword">in</span> stopwords]</span><br><span class="line">new_all_words = [w <span class="keyword">for</span> w <span class="keyword">in</span> new_all_words <span class="keyword">if</span> w.isalpha()]</span><br><span class="line">words_freqlist = nltk.FreqDist(new_all_words)</span><br><span class="line">word_features = list(words_freqlist.keys())[:<span class="number">3000</span>]</span><br><span class="line">training_set = featuresets[:<span class="number">1900</span>]</span><br><span class="line">testing_set = featuresets[<span class="number">1900</span>:]</span><br><span class="line">classifier = nltk.NaiveBayesClassifier.train(training_set)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">"Naive Bayes Algo accuracy:"</span>,(nltk.classify.accuracy(classifier,testing_set))*<span class="number">100</span>)</span><br></pre></td></tr></table></figure>
<pre><code>Naive Bayes Algo accuracy: 84.0
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">classifier_f = open(<span class="string">'naivebayes.pickle'</span>,<span class="string">"rb"</span>)</span><br><span class="line">classifier = pickle.load(classifier_f)</span><br><span class="line">classifier_f.close()</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">"Naive Bayes Algo accuracy:"</span>,(nltk.classify.accuracy(classifier,testing_set))*<span class="number">100</span>)</span><br></pre></td></tr></table></figure>
<pre><code>Naive Bayes Algo accuracy: 84.0
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">"Naive Bayes Algo accuracy:"</span>,(nltk.classify.accuracy(classifier,testing_set))*<span class="number">100</span>)</span><br></pre></td></tr></table></figure>
<pre><code>Naive Bayes Algo accuracy: 84.0
</code></pre><h3 id="15-Scikit-Learn-incorporation"><a href="#15-Scikit-Learn-incorporation" class="headerlink" title="15. Scikit-Learn incorporation()"></a>15. Scikit-Learn incorporation()</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> nltk.classify.scikitlearn <span class="keyword">import</span> SklearnClassifier</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.naive_bayes <span class="keyword">import</span> MultinomialNB, GaussianNB, BernoulliNB</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">MNB_classifier = SklearnClassifier(MultinomialNB())</span><br><span class="line">MNB_classifier.train(training_set)</span><br><span class="line">print(<span class="string">"MNB_classifier accuracy percent:"</span>,(nltk.classify.accuracy(MNB_classifier,testing_set))*<span class="number">100</span>)</span><br></pre></td></tr></table></figure>
<pre><code>MNB_classifier accuracy percent: 82.0
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 这段代码有问题，不可以运行。</span></span><br><span class="line">GNB_classifier = SklearnClassifier(GaussianNB())</span><br><span class="line">GNB_classifier.train(training_set)</span><br><span class="line">print(<span class="string">"GNB_classifier accuracy percent:"</span>,(nltk.classify.accuracy(GNB_classifier,testing_set))*<span class="number">100</span>)</span><br></pre></td></tr></table></figure>
<pre><code>---------------------------------------------------------------------------

TypeError                                 Traceback (most recent call last)

&lt;ipython-input-149-dbf69e211330&gt; in &lt;module&gt;()
      1 GNB_classifier = SklearnClassifier(GaussianNB())
----&gt; 2 GNB_classifier.train(training_set)
      3 print(&quot;GNB_classifier accuracy percent:&quot;,(nltk.classify.accuracy(GNB_classifier,testing_set))*100)


C:\Program Files\Anaconda3\lib\site-packages\nltk\classify\scikitlearn.py in train(self, labeled_featuresets)
    117         X = self._vectorizer.fit_transform(X)
    118         y = self._encoder.fit_transform(y)
--&gt; 119         self._clf.fit(X, y)
    120 
    121         return self


C:\Program Files\Anaconda3\lib\site-packages\sklearn\naive_bayes.py in fit(self, X, y, sample_weight)
    180             Returns self.
    181         &quot;&quot;&quot;
--&gt; 182         X, y = check_X_y(X, y)
    183         return self._partial_fit(X, y, np.unique(y), _refit=True,
    184                                  sample_weight=sample_weight)


C:\Program Files\Anaconda3\lib\site-packages\sklearn\utils\validation.py in check_X_y(X, y, accept_sparse, dtype, order, copy, force_all_finite, ensure_2d, allow_nd, multi_output, ensure_min_samples, ensure_min_features, y_numeric, warn_on_dtype, estimator)
    519     X = check_array(X, accept_sparse, dtype, order, copy, force_all_finite,
    520                     ensure_2d, allow_nd, ensure_min_samples,
--&gt; 521                     ensure_min_features, warn_on_dtype, estimator)
    522     if multi_output:
    523         y = check_array(y, &#39;csr&#39;, force_all_finite=True, ensure_2d=False,


C:\Program Files\Anaconda3\lib\site-packages\sklearn\utils\validation.py in check_array(array, accept_sparse, dtype, order, copy, force_all_finite, ensure_2d, allow_nd, ensure_min_samples, ensure_min_features, warn_on_dtype, estimator)
    378     if sp.issparse(array):
    379         array = _ensure_sparse_format(array, accept_sparse, dtype, copy,
--&gt; 380                                       force_all_finite)
    381     else:
    382         array = np.array(array, dtype=dtype, order=order, copy=copy)


C:\Program Files\Anaconda3\lib\site-packages\sklearn\utils\validation.py in _ensure_sparse_format(spmatrix, accept_sparse, dtype, copy, force_all_finite)
    241     &quot;&quot;&quot;
    242     if accept_sparse in [None, False]:
--&gt; 243         raise TypeError(&#39;A sparse matrix was passed, but dense &#39;
    244                         &#39;data is required. Use X.toarray() to &#39;
    245                         &#39;convert to a dense numpy array.&#39;)


TypeError: A sparse matrix was passed, but dense data is required. Use X.toarray() to convert to a dense numpy array.
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">BNB_classifier = SklearnClassifier(BernoulliNB())</span><br><span class="line">BNB_classifier.train(training_set)</span><br><span class="line">print(<span class="string">"BNB_classifier accuracy percent:"</span>,(nltk.classify.accuracy(BNB_classifier,testing_set))*<span class="number">100</span>)</span><br></pre></td></tr></table></figure>
<pre><code>BNB_classifier accuracy percent: 84.0
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> LogisticRegression, SGDClassifier</span><br><span class="line"><span class="keyword">from</span> sklearn.svm <span class="keyword">import</span> SVC, LinearSVC, NuSVC</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">LogisticRegression_classifier = SklearnClassifier(LogisticRegression())</span><br><span class="line">LogisticRegression_classifier.train(training_set)</span><br><span class="line">print(<span class="string">"LogisticRegression_classifier accuracy percent:"</span>,(nltk.classify.accuracy(LogisticRegression_classifier,testing_set))*<span class="number">100</span>)</span><br></pre></td></tr></table></figure>
<pre><code>LogisticRegression_classifier accuracy percent: 82.0
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SGDClassifier_classifier = SklearnClassifier(SGDClassifier())</span><br><span class="line">SGDClassifier_classifier.train(training_set)</span><br><span class="line">print(<span class="string">"SGDClassifier_classifier accuracy percent:"</span>,(nltk.classify.accuracy(SGDClassifier_classifier,testing_set))*<span class="number">100</span>)</span><br></pre></td></tr></table></figure>
<pre><code>SGDClassifier_classifier accuracy percent: 82.0
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SVC_classifier = SklearnClassifier(SVC())</span><br><span class="line">SVC_classifier.train(training_set)</span><br><span class="line">print(<span class="string">"SVC_classifier accuracy percent:"</span>,(nltk.classify.accuracy(SVC_classifier,testing_set))*<span class="number">100</span>)</span><br></pre></td></tr></table></figure>
<pre><code>SVC_classifier accuracy percent: 82.0
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">LinearSVC_classifier = SklearnClassifier(LinearSVC())</span><br><span class="line">LinearSVC_classifier.train(training_set)</span><br><span class="line">print(<span class="string">"LinearSVC_classifier accuracy percent:"</span>,(nltk.classify.accuracy(LinearSVC_classifier,testing_set))*<span class="number">100</span>)</span><br></pre></td></tr></table></figure>
<pre><code>LinearSVC_classifier accuracy percent: 80.0
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">NuSVC_classifier = SklearnClassifier(NuSVC())</span><br><span class="line">NuSVC_classifier.train(training_set)</span><br><span class="line">print(<span class="string">"NuSVC_classifier accuracy percent:"</span>,(nltk.classify.accuracy(NuSVC_classifier,testing_set))*<span class="number">100</span>)</span><br></pre></td></tr></table></figure>
<pre><code>NuSVC_classifier accuracy percent: 82.0
</code></pre><h3 id="16-Combining-Algos-with-a-Vote"><a href="#16-Combining-Algos-with-a-Vote" class="headerlink" title="16. Combining Algos with a Vote"></a>16. Combining Algos with a Vote</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> nltk.classify <span class="keyword">import</span> ClassifierI</span><br><span class="line"><span class="keyword">from</span> statistics <span class="keyword">import</span> mode</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">VoteClassifier</span><span class="params">(ClassifierI)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, *classifiers)</span>:</span></span><br><span class="line">        self._classifiers = classifiers</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">classify</span><span class="params">(self, features)</span>:</span></span><br><span class="line">        votes = []</span><br><span class="line">        <span class="keyword">for</span> c <span class="keyword">in</span> self._classifiers:</span><br><span class="line">            v = c.classify(features)</span><br><span class="line">            votes.append(v)</span><br><span class="line">        <span class="keyword">return</span> mode(votes)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">confidence</span><span class="params">(self,features)</span>:</span></span><br><span class="line">        votes = []</span><br><span class="line">        <span class="keyword">for</span> c <span class="keyword">in</span> self._classifiers:</span><br><span class="line">            v = c.classify(features)</span><br><span class="line">            votes.append(v)</span><br><span class="line">        </span><br><span class="line">        choice_votes = votes.count(mode(votes))</span><br><span class="line">        conf = choice_votes / len(votes)</span><br><span class="line">        <span class="keyword">return</span> conf</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">voted_classifier = VoteClassifier(classifier,</span><br><span class="line">                                  MNB_classifier,</span><br><span class="line">                                  BNB_classifier,</span><br><span class="line">                                  LogisticRegression_classifier,</span><br><span class="line">                                  SGDClassifier_classifier,</span><br><span class="line">                                 <span class="comment">#SVC_classifier,视频中没有这个，况且如果不注释掉就会报统计错误，说有两个相同的值。</span></span><br><span class="line">                                 <span class="comment">#如： http://blog.csdn.net/dongfuguo/article/details/50163757 中 mode错误一般</span></span><br><span class="line">                                 LinearSVC_classifier,</span><br><span class="line">                                 NuSVC_classifier)</span><br><span class="line">print(<span class="string">"voted_classifier accuracy percent:"</span>,(nltk.classify.accuracy(voted_classifier,testing_set))*<span class="number">100</span>)</span><br></pre></td></tr></table></figure>
<pre><code>voted_classifier accuracy percent: 81.0
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">"Classification:"</span>,voted_classifier.classify(testing_set[<span class="number">0</span>][<span class="number">0</span>]),<span class="string">"Confidence %:"</span>,voted_classifier.confidence(testing_set[<span class="number">0</span>][<span class="number">0</span>])*<span class="number">100</span>)</span><br></pre></td></tr></table></figure>
<pre><code>Classification: neg Confidence %: 100.0
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">"Classification:"</span>,voted_classifier.classify(testing_set[<span class="number">1</span>][<span class="number">0</span>]),<span class="string">"Confidence %:"</span>,voted_classifier.confidence(testing_set[<span class="number">1</span>][<span class="number">0</span>])*<span class="number">100</span>)</span><br></pre></td></tr></table></figure>
<pre><code>Classification: pos Confidence %: 100.0
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">"Classification:"</span>,voted_classifier.classify(testing_set[<span class="number">2</span>][<span class="number">0</span>]),<span class="string">"Confidence %:"</span>,voted_classifier.confidence(testing_set[<span class="number">2</span>][<span class="number">0</span>])*<span class="number">100</span>)</span><br></pre></td></tr></table></figure>
<pre><code>Classification: pos Confidence %: 100.0
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">"Classification:"</span>,voted_classifier.classify(testing_set[<span class="number">3</span>][<span class="number">0</span>]),<span class="string">"Confidence %:"</span>,voted_classifier.confidence(testing_set[<span class="number">3</span>][<span class="number">0</span>])*<span class="number">100</span>)</span><br></pre></td></tr></table></figure>
<pre><code>Classification: neg Confidence %: 87.5
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">"Classification:"</span>,voted_classifier.classify(testing_set[<span class="number">4</span>][<span class="number">0</span>]),<span class="string">"Confidence %:"</span>,voted_classifier.confidence(testing_set[<span class="number">4</span>][<span class="number">0</span>])*<span class="number">100</span>)</span><br></pre></td></tr></table></figure>
<pre><code>Classification: pos Confidence %: 100.0
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">"Classification:"</span>,voted_classifier.classify(testing_set[<span class="number">5</span>][<span class="number">0</span>]),<span class="string">"Confidence %:"</span>,voted_classifier.confidence(testing_set[<span class="number">5</span>][<span class="number">0</span>])*<span class="number">100</span>)</span><br></pre></td></tr></table></figure>
<pre><code>Classification: neg Confidence %: 75.0
</code></pre><h3 id="17-Investigating-Bias"><a href="#17-Investigating-Bias" class="headerlink" title="17. Investigating Bias()"></a>17. Investigating Bias()</h3><h3 id="18-Better-training-data"><a href="#18-Better-training-data" class="headerlink" title="18. Better training data()"></a>18. Better training data()</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">short_pos = open(<span class="string">"short_reviews/positive.txt"</span>,<span class="string">"r"</span>,encoding=<span class="string">"unicode-escape"</span>).read()</span><br><span class="line">short_neg = open(<span class="string">"short_reviews/negative.txt"</span>,<span class="string">"r"</span>,encoding=<span class="string">"unicode-escape"</span>).read()</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">short_pos[:<span class="number">300</span>]</span><br></pre></td></tr></table></figure>
<pre><code>&#39;the rock is destined to be the 21st century\&#39;s new &quot; conan &quot; and that he\&#39;s going to make a splash even greater than arnold schwarzenegger , jean-claud van damme or steven segal . \nthe gorgeously elaborate continuation of &quot; the lord of the rings &quot; trilogy is so huge that a column of words cannot adequ&#39;
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">documents = []</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># map(lambda r : document.append(r,'pos'), [r for r in short_pos.split('\n')])</span></span><br><span class="line"><span class="comment"># 本来想通过类似foreach实现类似的功能，不过好像并不能成功，目前原因还不清楚。</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">documents.extend([(r,<span class="string">"pos"</span>) <span class="keyword">for</span> r <span class="keyword">in</span> short_pos.split(<span class="string">'\n'</span>)])</span><br><span class="line"><span class="comment"># 和下面语句的作用是一样的，不过不知道哪个效率更高一些</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> r <span class="keyword">in</span> short_pos.split(<span class="string">'\n'</span>):</span><br><span class="line">    documents.append((r,<span class="string">'pos'</span>))</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">documents[<span class="number">0</span>]</span><br></pre></td></tr></table></figure>
<pre><code>(&#39;the rock is destined to be the 21st century\&#39;s new &quot; conan &quot; and that he\&#39;s going to make a splash even greater than arnold schwarzenegger , jean-claud van damme or steven segal . &#39;,
 &#39;pos&#39;)
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">documents.extend([(r,<span class="string">"neg"</span>) <span class="keyword">for</span> r <span class="keyword">in</span> short_neg.split(<span class="string">'\n'</span>)])</span><br><span class="line"><span class="comment"># 和下面语句的作用是一样的，不过不知道哪个效率更高一些</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> w <span class="keyword">in</span> short_neg.split(<span class="string">'\n'</span>):</span><br><span class="line">    documents.append(w.lower())</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> nltk</span><br><span class="line"><span class="comment"># 这里之所以再次导入，仅仅是因为我是几次使用这个notebook，懒得运行前面的cell了。</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">all_words = []</span><br><span class="line">short_pos_words = nltk.word_tokenize(short_pos)</span><br><span class="line">short_neg_words = nltk.word_tokenize(short_neg)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">all_words.extend([w.lower() <span class="keyword">for</span> w <span class="keyword">in</span> short_pos_words])</span><br><span class="line">all_words.extend([w.lower() <span class="keyword">for</span> w <span class="keyword">in</span> short_neg_words])</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 以上代码应该也可以写成：</span></span><br><span class="line">all_words = [w.lower() <span class="keyword">for</span> w <span class="keyword">in</span> short_pos_words] + [w.lower() <span class="keyword">for</span> w <span class="keyword">in</span> short_pos_words]</span><br><span class="line"><span class="comment">#甚至是这样：</span></span><br><span class="line">all_words = [w.lower() <span class="keyword">for</span> w <span class="keyword">in</span> short_pos_words+short_neg_words]</span><br><span class="line"><span class="comment"># 不过如果先：</span></span><br><span class="line">all_words = short_pos_words + short_neg_words</span><br><span class="line"><span class="comment"># 再：</span></span><br><span class="line">all_words = [w.lower() <span class="keyword">for</span> w <span class="keyword">in</span> all_words]</span><br><span class="line"><span class="comment"># 可能效率更高一些吧？</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">stopwords = nltk.corpus.stopwords.words(<span class="string">'english'</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">all_words = [w <span class="keyword">for</span> w <span class="keyword">in</span> all_words <span class="keyword">if</span> w <span class="keyword">not</span> <span class="keyword">in</span> stopwords]</span><br><span class="line"><span class="comment"># 我自己添加的去除停用词等无关信息，以使得特征提取和训练的效率更高</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">all_words = nltk.FreqDist(all_words)</span><br><span class="line">word_features = list(all_words.keys())[:<span class="number">5000</span>]</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">find_features</span><span class="params">(document)</span>:</span></span><br><span class="line">    words = nltk.word_tokenize(document)</span><br><span class="line">    features = &#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> w <span class="keyword">in</span> word_features:</span><br><span class="line">        features[w] = (w <span class="keyword">in</span> words)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> features</span><br><span class="line">featuresets = [(find_features(rev), category) <span class="keyword">for</span> (rev, category) <span class="keyword">in</span> documents]</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line">random.shuffle(featuresets)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">training_set = featuresets[:<span class="number">10000</span>]</span><br><span class="line">testing_set = featuresets[<span class="number">10000</span>:]</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">classifier = nltk.NaiveBayesClassifier.train(training_set)</span><br><span class="line">print(<span class="string">"Naive Bayes Algo accuracy:"</span>,(nltk.classify.accuracy(classifier,testing_set))*<span class="number">100</span>)</span><br></pre></td></tr></table></figure>
<pre><code>Naive Bayes Algo accuracy: 68.82530120481928
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> nltk.classify.scikitlearn <span class="keyword">import</span> SklearnClassifier</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.naive_bayes <span class="keyword">import</span> MultinomialNB, GaussianNB, BernoulliNB</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">MNB_classifier = SklearnClassifier(MultinomialNB())</span><br><span class="line">MNB_classifier.train(training_set)</span><br><span class="line">print(<span class="string">"MNB_classifier accuracy percent:"</span>,(nltk.classify.accuracy(MNB_classifier,testing_set))*<span class="number">100</span>)</span><br></pre></td></tr></table></figure>
<pre><code>MNB_classifier accuracy percent: 67.46987951807229
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 这段代码有问题，不可以运行</span></span><br><span class="line">GNB_classifier = SklearnClassifier(GaussianNB())</span><br><span class="line">GNB_classifier.train(training_set)</span><br><span class="line">print(<span class="string">"GNB_classifier accuracy percent:"</span>,(nltk.classify.accuracy(GNB_classifier,testing_set))*<span class="number">100</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">BNB_classifier = SklearnClassifier(BernoulliNB())</span><br><span class="line">BNB_classifier.train(training_set)</span><br><span class="line">print(<span class="string">"BNB_classifier accuracy percent:"</span>,(nltk.classify.accuracy(BNB_classifier,testing_set))*<span class="number">100</span>)</span><br></pre></td></tr></table></figure>
<pre><code>BNB_classifier accuracy percent: 68.97590361445783
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> LogisticRegression, SGDClassifier</span><br><span class="line"><span class="keyword">from</span> sklearn.svm <span class="keyword">import</span> SVC, LinearSVC, NuSVC</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">LogisticRegression_classifier = SklearnClassifier(LogisticRegression())</span><br><span class="line">LogisticRegression_classifier.train(training_set)</span><br><span class="line">print(<span class="string">"LogisticRegression_classifier accuracy percent:"</span>,(nltk.classify.accuracy(LogisticRegression_classifier,testing_set))*<span class="number">100</span>)</span><br></pre></td></tr></table></figure>
<pre><code>LogisticRegression_classifier accuracy percent: 70.78313253012048
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SGDClassifier_classifier = SklearnClassifier(SGDClassifier())</span><br><span class="line">SGDClassifier_classifier.train(training_set)</span><br><span class="line">print(<span class="string">"SGDClassifier_classifier accuracy percent:"</span>,(nltk.classify.accuracy(SGDClassifier_classifier,testing_set))*<span class="number">100</span>)</span><br></pre></td></tr></table></figure>
<pre><code>SGDClassifier_classifier accuracy percent: 66.1144578313253
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SVC_classifier = SklearnClassifier(SVC())</span><br><span class="line">SVC_classifier.train(training_set)</span><br><span class="line">print(<span class="string">"SVC_classifier accuracy percent:"</span>,(nltk.classify.accuracy(SVC_classifier,testing_set))*<span class="number">100</span>)</span><br></pre></td></tr></table></figure>
<pre><code>SVC_classifier accuracy percent: 49.096385542168676
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">LinearSVC_classifier = SklearnClassifier(LinearSVC())</span><br><span class="line">LinearSVC_classifier.train(training_set)</span><br><span class="line">print(<span class="string">"LinearSVC_classifier accuracy percent:"</span>,(nltk.classify.accuracy(LinearSVC_classifier,testing_set))*<span class="number">100</span>)</span><br></pre></td></tr></table></figure>
<pre><code>LinearSVC_classifier accuracy percent: 70.48192771084338
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">NuSVC_classifier = SklearnClassifier(NuSVC())</span><br><span class="line">NuSVC_classifier.train(training_set)</span><br><span class="line">print(<span class="string">"NuSVC_classifier accuracy percent:"</span>,(nltk.classify.accuracy(NuSVC_classifier,testing_set))*<span class="number">100</span>)</span><br></pre></td></tr></table></figure>
<pre><code>NuSVC_classifier accuracy percent: 69.7289156626506
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> nltk.classify <span class="keyword">import</span> ClassifierI</span><br><span class="line"><span class="keyword">from</span> statistics <span class="keyword">import</span> mode</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">VoteClassifier</span><span class="params">(ClassifierI)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, *classifiers)</span>:</span></span><br><span class="line">        self._classifiers = classifiers</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">classify</span><span class="params">(self, features)</span>:</span></span><br><span class="line">        votes = []</span><br><span class="line">        <span class="keyword">for</span> c <span class="keyword">in</span> self._classifiers:</span><br><span class="line">            v = c.classify(features)</span><br><span class="line">            votes.append(v)</span><br><span class="line">        <span class="keyword">return</span> mode(votes)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">confidence</span><span class="params">(self,features)</span>:</span></span><br><span class="line">        votes = []</span><br><span class="line">        <span class="keyword">for</span> c <span class="keyword">in</span> self._classifiers:</span><br><span class="line">            v = c.classify(features)</span><br><span class="line">            votes.append(v)</span><br><span class="line">        </span><br><span class="line">        choice_votes = votes.count(mode(votes))</span><br><span class="line">        conf = choice_votes / len(votes)</span><br><span class="line">        <span class="keyword">return</span> conf</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">voted_classifier = VoteClassifier(classifier,</span><br><span class="line">                                  MNB_classifier,</span><br><span class="line">                                  BNB_classifier,</span><br><span class="line">                                  LogisticRegression_classifier,</span><br><span class="line">                                  SGDClassifier_classifier,</span><br><span class="line">                                 <span class="comment">#SVC_classifier,视频中没有这个，况且如果不注释掉就会报统计错误，说有两个相同的值。</span></span><br><span class="line">                                 <span class="comment">#如： http://blog.csdn.net/dongfuguo/article/details/50163757 中 mode错误一般</span></span><br><span class="line">                                 LinearSVC_classifier,</span><br><span class="line">                                 NuSVC_classifier)</span><br><span class="line">print(<span class="string">"voted_classifier accuracy percent:"</span>,(nltk.classify.accuracy(voted_classifier,testing_set))*<span class="number">100</span>)</span><br></pre></td></tr></table></figure>
<pre><code>voted_classifier accuracy percent: 69.42771084337349
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">"Classification:"</span>,voted_classifier.classify(testing_set[<span class="number">0</span>][<span class="number">0</span>]),<span class="string">"Confidence %:"</span>,voted_classifier.confidence(testing_set[<span class="number">0</span>][<span class="number">0</span>])*<span class="number">100</span>)</span><br></pre></td></tr></table></figure>
<pre><code>Classification: pos Confidence %: 100.0
</code></pre><h3 id="19-Sentiment-Analysis-Module"><a href="#19-Sentiment-Analysis-Module" class="headerlink" title="19. Sentiment Analysis Module()"></a>19. Sentiment Analysis Module()</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">all_words = []</span><br><span class="line">documents = []</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">allowed_word_types = [<span class="string">"J"</span>]</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> p <span class="keyword">in</span> short_pos.split(<span class="string">'\n'</span>):</span><br><span class="line">    documents.append((p,<span class="string">"pos"</span>))</span><br><span class="line">    words = nltk.word_tokenize(p)</span><br><span class="line">    pos = nltk.pos_tag(words)</span><br><span class="line">    <span class="keyword">for</span> w <span class="keyword">in</span> pos:</span><br><span class="line">        <span class="keyword">if</span> w[<span class="number">1</span>][<span class="number">0</span>] <span class="keyword">in</span> allowed_word_types:</span><br><span class="line">            all_words.append(w[<span class="number">0</span>].lower())</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> p <span class="keyword">in</span> short_neg.split(<span class="string">'\n'</span>):</span><br><span class="line">    documents.append((p,<span class="string">"neg"</span>))</span><br><span class="line">    words = nltk.word_tokenize(p)</span><br><span class="line">    neg = nltk.pos_tag(words)</span><br><span class="line">    <span class="keyword">for</span> w <span class="keyword">in</span> neg:</span><br><span class="line">        <span class="keyword">if</span> w[<span class="number">1</span>][<span class="number">0</span>] <span class="keyword">in</span> allowed_word_types:</span><br><span class="line">            all_words.append(w[<span class="number">0</span>].lower())</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pickle</span><br></pre></td></tr></table></figure>
<p>提醒一下：直接运行以下的cell 会报错，应该先创建一个pickled_algos文件夹，然后再运行cell</p>
<p>保存文档</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">save_documents = open(<span class="string">'pickled_algos/documents.pickle'</span>,<span class="string">"wb"</span>)</span><br><span class="line">pickle.dump(documents, save_documents)</span><br><span class="line">save_documents.close()</span><br></pre></td></tr></table></figure>
<p>保存文本特征</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">all_words = nltk.FreqDist(all_words)</span><br><span class="line">word_features = list(all_words.keys())[:<span class="number">5000</span>]</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">save_word_features = open(<span class="string">'pickled_algos/word_features5k.pickle'</span>,<span class="string">"wb"</span>)</span><br><span class="line">pickle.dump(word_features,save_word_features)</span><br><span class="line">save_word_features.close()</span><br></pre></td></tr></table></figure>
<p>保存朴素贝叶斯算法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">save_classifier = open(<span class="string">"pickled_algos/originalnaivebayes5k.pickle"</span>,<span class="string">"wb"</span>)</span><br><span class="line">pickle.dump(classifier,save_classifier)</span><br><span class="line">save_classifier.close()</span><br></pre></td></tr></table></figure>
<p>保存MultinomialNB算法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">save_classifier = open(<span class="string">"pickled_algos/MNB_classifier5k.pickle"</span>,<span class="string">"wb"</span>)</span><br><span class="line">pickle.dump(MNB_classifier,save_classifier)</span><br><span class="line">save_classifier.close()</span><br></pre></td></tr></table></figure>
<p>保存BernoulliNB算法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">save_classifier = open(<span class="string">"pickled_algos/BNB_classifier5k.pickle"</span>,<span class="string">"wb"</span>)</span><br><span class="line">pickle.dump(BNB_classifier,save_classifier)</span><br><span class="line">save_classifier.close()</span><br></pre></td></tr></table></figure>
<p>保存LogisticRegression算法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">save_classifier = open(<span class="string">"pickled_algos/LogisticRegression_classifier5k.pickle"</span>,<span class="string">"wb"</span>)</span><br><span class="line">pickle.dump(LogisticRegression_classifier,save_classifier)</span><br><span class="line">save_classifier.close()</span><br></pre></td></tr></table></figure>
<p>保存LinearSVC算法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">save_classifier = open(<span class="string">"pickled_algos/LinearSVC_classifier5k.pickle"</span>,<span class="string">"wb"</span>)</span><br><span class="line">pickle.dump(LinearSVC_classifier,save_classifier)</span><br><span class="line">save_classifier.close()</span><br></pre></td></tr></table></figure>
<p>保存SGDC算法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">save_classifier = open(<span class="string">"pickled_algos/SGDClassifier_classifier5k.pickle"</span>,<span class="string">"wb"</span>)</span><br><span class="line">pickle.dump(SGDClassifier_classifier,save_classifier)</span><br><span class="line">save_classifier.close()</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">voted_classifier = VoteClassifier(classifier,</span><br><span class="line">                                 LinearSVC_classifier,</span><br><span class="line">                                 MNB_classifier,</span><br><span class="line">                                 BNB_classifier,</span><br><span class="line">                                 LogisticRegression_classifier)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sentiment</span><span class="params">(text)</span>:</span></span><br><span class="line">    feats = find_features(text)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> voted_classifier.classify(feats)</span><br></pre></td></tr></table></figure>
<p>最终我们编写的模块长成这个样子：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#File: sentiment_mod.py 只是一个文件名而已，可以按照自己的想法取，但应做到见名知意</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> nltk</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">from</span> nltk.classify.scikitlearn <span class="keyword">import</span> SklearnClassifier</span><br><span class="line"><span class="keyword">import</span> pickle</span><br><span class="line"><span class="keyword">from</span> sklearn.naive_bayes <span class="keyword">import</span> MultinomialNB,BernoulliNB</span><br><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> LogisticRegression,SGDClassifier</span><br><span class="line"><span class="keyword">from</span> sklearn.svm <span class="keyword">import</span> SVC, LinearSVC,NuSVC</span><br><span class="line"><span class="keyword">from</span> nltk.classify <span class="keyword">import</span> ClassifierI</span><br><span class="line"><span class="keyword">from</span> statistics <span class="keyword">import</span> mode</span><br><span class="line"><span class="keyword">from</span> nltk.tokenize <span class="keyword">import</span> word_tokenize</span><br><span class="line"></span><br><span class="line"><span class="comment"># 以上许多类模块虽然在代码中看似并没有用到，可是在用pickle还原为相关实例在被外部调用执行的时候还是需要的。</span></span><br><span class="line"><span class="comment"># 这里由于我们之前已经训练好了几个分类器，并且已经将文档内容和文本特征等通过pickle持久化保存起来了，所以在此模块中直接用pickle还原就可以直接拿来用了，而不是再次训练。</span></span><br><span class="line"><span class="comment"># 并且该模块仅当同一路径下的pickled_algos文件夹及里面的各pickle文件同时存在时才可以正常使用，当然，项目中也要导入本模块需要使用的一些基础模块，如nltk等等。</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">VoteClassifier</span><span class="params">(ClassifierI)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, *classifiers)</span>:</span></span><br><span class="line">        self._classifiers = classifiers</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">classify</span><span class="params">(self, features)</span>:</span></span><br><span class="line">        votes = []</span><br><span class="line">        <span class="keyword">for</span> c <span class="keyword">in</span> self._classifiers:</span><br><span class="line">            v = c.classify(features)</span><br><span class="line">            votes.append(v)</span><br><span class="line">        <span class="keyword">return</span> mode(votes)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">confidence</span><span class="params">(self,features)</span>:</span></span><br><span class="line">        votes = []</span><br><span class="line">        <span class="keyword">for</span> c <span class="keyword">in</span> self._classifiers:</span><br><span class="line">            v = c.classify(features)</span><br><span class="line">            votes.append(v)</span><br><span class="line">        </span><br><span class="line">        choice_votes = votes.count(mode(votes))</span><br><span class="line">        conf = choice_votes / len(votes)</span><br><span class="line">        <span class="keyword">return</span> conf </span><br><span class="line"></span><br><span class="line">documents_f = open(<span class="string">'pickled_algos/documents.pickle'</span>,<span class="string">"rb"</span>)</span><br><span class="line">documents = pickle.load(documents_f)</span><br><span class="line">documents_f.close()</span><br><span class="line"></span><br><span class="line">word_features5k_f = open(<span class="string">'pickled_algos/word_features5k.pickle'</span>,<span class="string">"rb"</span>)</span><br><span class="line">word_features = pickle.load(word_features5k_f)</span><br><span class="line">word_features5k_f.close()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">find_features</span><span class="params">(document)</span>:</span></span><br><span class="line">    words = nltk.word_tokenize(document)</span><br><span class="line">    features = &#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> w <span class="keyword">in</span> word_features:</span><br><span class="line">        features[w] = (w <span class="keyword">in</span> words)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> features</span><br><span class="line"></span><br><span class="line">open_file = open(<span class="string">"pickled_algos/originalnaivebayes5k.pickle"</span>,<span class="string">"rb"</span>)</span><br><span class="line">classifier = pickle.load(open_file)</span><br><span class="line">open_file.close()</span><br><span class="line"></span><br><span class="line">open_file = open(<span class="string">"pickled_algos/MNB_classifier5k.pickle"</span>,<span class="string">"rb"</span>)</span><br><span class="line">MNB_classifier = pickle.load(open_file)</span><br><span class="line">open_file.close()</span><br><span class="line"></span><br><span class="line">open_file = open(<span class="string">"pickled_algos/BNB_classifier5k.pickle"</span>,<span class="string">"rb"</span>)</span><br><span class="line">BNB_classifier = pickle.load(open_file)</span><br><span class="line">open_file.close()</span><br><span class="line"></span><br><span class="line">open_file = open(<span class="string">"pickled_algos/LogisticRegression_classifier5k.pickle"</span>,<span class="string">"rb"</span>)</span><br><span class="line">LogisticRegression_classifier = pickle.load(open_file)</span><br><span class="line">open_file.close()</span><br><span class="line"></span><br><span class="line">open_file = open(<span class="string">"pickled_algos/LinearSVC_classifier5k.pickle"</span>,<span class="string">"rb"</span>)</span><br><span class="line">LinearSVC_classifier = pickle.load(open_file)</span><br><span class="line">open_file.close()</span><br><span class="line"></span><br><span class="line">open_file = open(<span class="string">"pickled_algos/SGDClassifier_classifier5k.pickle"</span>,<span class="string">"rb"</span>)</span><br><span class="line">SGDClassifier_classifier = pickle.load(open_file)</span><br><span class="line">open_file.close()</span><br><span class="line"></span><br><span class="line">voted_classifier = VoteClassifier(</span><br><span class="line">                                 classifier,</span><br><span class="line">                                 LinearSVC_classifier,</span><br><span class="line">                                 MNB_classifier,</span><br><span class="line">                                 BNB_classifier,</span><br><span class="line">                                 LogisticRegression_classifier)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sentiment</span><span class="params">(text)</span>:</span></span><br><span class="line">    feats = find_features(text)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> voted_classifier.classify(feats),voted_classifier.confidence(feats)</span><br><span class="line"></span><br><span class="line"><span class="comment"># save me as sentiment_mod.py</span></span><br></pre></td></tr></table></figure>
<p>下面来使用一下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sentiment_mod <span class="keyword">as</span> s</span><br><span class="line"></span><br><span class="line">print(s.sentiment(<span class="string">"This movie was awesome! The acting was great, plot was wonderful, and there were pythons...so yea!"</span>))</span><br><span class="line"></span><br><span class="line">print(s.sentiment(<span class="string">"This movie was utter junk. There were absolutely 0 pythons. I don't see what the point was at all. Horrible movie, 0/10"</span>))</span><br></pre></td></tr></table></figure>
<pre><code>(&#39;pos&#39;, 1.0)
(&#39;neg&#39;, 1.0)
</code></pre><p>好吧，接下来的实践要使用Twitter 创建APP，可能还要使用个人网站，有点麻烦，所以接下来我只是看了看并没有照着实践。<br>总之，在这一系列的跟着敲代码的过程中，自己初步建立起了很浅的自然语言处理的概念~</p>
<h3 id="20-Twitter-Sentiment-Analysis"><a href="#20-Twitter-Sentiment-Analysis" class="headerlink" title="20. Twitter Sentiment Analysis()"></a>20. Twitter Sentiment Analysis()</h3><h3 id="21-Graphing-Live-Twitter-Sentiment"><a href="#21-Graphing-Live-Twitter-Sentiment" class="headerlink" title="21. Graphing Live Twitter Sentiment()"></a>21. Graphing Live Twitter Sentiment()</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

      </div>
      <div align="center">
        <div class="copyright">
            <p><span>
                <br /><b>本文地址：</b><a href="/2018/03/19/learnNLTKbyWatchVideo/" title="learnNLTKbyWatchVideo">learnNLTKbyWatchVideo</a><br /><b>转载请注明出处，谢谢！</b>
            </span></p>
            </div>
      </div>
        
          <section class='meta' id="footer-meta">
            
              <time class="metatag time" itemprop="dateUpdated" datetime="2019-01-07T11:13:26+08:00" content="2019-01-07"><i class="fas fa-pencil-alt fa-fw" aria-hidden="true"></i>
                &nbsp;2019-01-07
              </time>
            
            
                
                <div class="metatag tags"><a class="tag" href="/tags/Python/"><i class="fas fa-hashtag fa-fw" aria-hidden="true"></i>&nbsp;Python</a></div> <div class="metatag tags"><a class="tag" href="/tags/自然语言处理/"><i class="fas fa-hashtag fa-fw" aria-hidden="true"></i>&nbsp;自然语言处理</a></div> <div class="metatag tags"><a class="tag" href="/tags/NLTK/"><i class="fas fa-hashtag fa-fw" aria-hidden="true"></i>&nbsp;NLTK</a></div>
            
            
              
  <div class='metatag share -mob-share-list'>
    <i class="left fas fa-share-alt fa-fw" aria-hidden="true"></i>
    <div class="-mob-share-list share-body">
      
        
          <a class="-mob-share-qq" title="QQ好友" rel="external nofollow noopener noreferrer"
            
            href="http://connect.qq.com/widget/shareqq/index.html?url=http://www.iamlightsmile.com/2018/03/19/learnNLTKbyWatchVideo/&title=learnNLTKbyWatchVideo | lightsmile's Blog&summary=The following is learning from the video:NLTK with Python 3 for Natural Language Processing.You can watch the videos in YouTube,iliibili and the author’s website: pythonprogramming.net
I use jupyter notebook to write and run the python code,the python version is 3.4.4.
Frist,we need to import the nltk module to use it"
            
            >
            
              <img src="https://cdn.jsdelivr.net/gh/xaoxuu/assets@19.1.9/logo/128/qq.png">
            
          </a>
        
      
        
          <a class="-mob-share-qzone" title="QQ空间" rel="external nofollow noopener noreferrer"
            
            href="https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=http://www.iamlightsmile.com/2018/03/19/learnNLTKbyWatchVideo/&title=learnNLTKbyWatchVideo | lightsmile's Blog&summary=The following is learning from the video:NLTK with Python 3 for Natural Language Processing.You can watch the videos in YouTube,iliibili and the author’s website: pythonprogramming.net
I use jupyter notebook to write and run the python code,the python version is 3.4.4.
Frist,we need to import the nltk module to use it"
            
            >
            
              <img src="https://cdn.jsdelivr.net/gh/xaoxuu/assets@19.1.9/logo/128/qzone.png">
            
          </a>
        
      
        
          <a class='qrcode' rel="external nofollow noopener noreferrer" href='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAADeCAAAAAB3DOFrAAACtklEQVR42u3aQW4bQQwEQP//0wmQq6BVNzkTwUDpZEi2dmsPQ7rJn5/49effK3nn9f3XT19fz7//7orHXnh4eHijW3++8PPP7d/OSO118fDw8G7znotBcuubEvLu5hLqBwseHh7eV3l5a5s31m0/jIeHh/e7eM83lB/3SUOfP248PDy8b/GSQKH40rhszEhXshY8PDy8bt5U39B3f74438PDw8NbTNWTItFGtPvotrhbPDw8vAu8fGSVh7DPgPyd2TdHiTIeHh7egtce37OVqXzVoA0XPpQWPDw8vGu8ttndfLpZMshbcDw8PLx7vLYJzg/9WclpV7iiUoGHh4d3lDeLYtuFg3aoNuN92InAw8PDO8RLLpM3tbO1p1mMi4eHh/dd3n7ElbfURYhwKBrGw8PDu8Frj/v2ybUrXG0jHi1d4eHh4R3l5dFAO+LKQ9v8uB8233h4eHiHeO3Yvi0keTPdfk9ExcPDw7vGawfzbYM7CzKGaQoeHh7eZd5sQNWOx2aNex6ItIsIeHh4eBtefhzPRmL79n0VK+Ph4eFd4LVNc3vTbXlo1wtqJB4eHt6atykMyfE9fMZBWBwFvnh4eHgXePkIKi8bm6C2XeGK7goPDw/vAm+2LtAOus4GvsP/FfDw8PDWvHbYPwtkD6xPzdYF8PDw8K7x8kAhP+5nK61JA12UDTw8PLwLvPagb0dfeQN9qrS8jSHw8PDwDvHyX00O4qRs5I8gfyhRdIuHh4d3gXeszsSlYraSNSwMeHh4eId4ZxPRdhi2CR2GDDw8PLxDvLwYtO11XgByatu+4+Hh4d3jzQLZfNUgf1htAfjwV3h4eHhf5c2a703M0bbp9XwPDw8P77/w8q/eDLQ2RWtVGPDw8PCOhhEJJifd/k48PDy8e7xTA7D2AnnUuwmF8fDw8I7y/gICO3OoeM/f4gAAAABJRU5ErkJggg=='>
          
            <img src="https://cdn.jsdelivr.net/gh/xaoxuu/assets@19.1.9/logo/128/wechat.png">
          
          </a>
        
      
        
          <a class="-mob-share-weibo" title="微博" rel="external nofollow noopener noreferrer"
            
            href="http://service.weibo.com/share/share.php?url=http://www.iamlightsmile.com/2018/03/19/learnNLTKbyWatchVideo/&title=learnNLTKbyWatchVideo | lightsmile's Blog&summary=The following is learning from the video:NLTK with Python 3 for Natural Language Processing.You can watch the videos in YouTube,iliibili and the author’s website: pythonprogramming.net
I use jupyter notebook to write and run the python code,the python version is 3.4.4.
Frist,we need to import the nltk module to use it"
            
            >
            
              <img src="https://cdn.jsdelivr.net/gh/xaoxuu/assets@19.1.9/logo/128/weibo.png">
            
          </a>
        
      
        
          <a class='qrcode' rel="external nofollow noopener noreferrer" href='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAADeCAAAAAB3DOFrAAACtklEQVR42u3aQW4bQQwEQP//0wmQq6BVNzkTwUDpZEi2dmsPQ7rJn5/49effK3nn9f3XT19fz7//7orHXnh4eHijW3++8PPP7d/OSO118fDw8G7znotBcuubEvLu5hLqBwseHh7eV3l5a5s31m0/jIeHh/e7eM83lB/3SUOfP248PDy8b/GSQKH40rhszEhXshY8PDy8bt5U39B3f74438PDw8NbTNWTItFGtPvotrhbPDw8vAu8fGSVh7DPgPyd2TdHiTIeHh7egtce37OVqXzVoA0XPpQWPDw8vGu8ttndfLpZMshbcDw8PLx7vLYJzg/9WclpV7iiUoGHh4d3lDeLYtuFg3aoNuN92InAw8PDO8RLLpM3tbO1p1mMi4eHh/dd3n7ElbfURYhwKBrGw8PDu8Frj/v2ybUrXG0jHi1d4eHh4R3l5dFAO+LKQ9v8uB8233h4eHiHeO3Yvi0keTPdfk9ExcPDw7vGawfzbYM7CzKGaQoeHh7eZd5sQNWOx2aNex6ItIsIeHh4eBtefhzPRmL79n0VK+Ph4eFd4LVNc3vTbXlo1wtqJB4eHt6atykMyfE9fMZBWBwFvnh4eHgXePkIKi8bm6C2XeGK7goPDw/vAm+2LtAOus4GvsP/FfDw8PDWvHbYPwtkD6xPzdYF8PDw8K7x8kAhP+5nK61JA12UDTw8PLwLvPagb0dfeQN9qrS8jSHw8PDwDvHyX00O4qRs5I8gfyhRdIuHh4d3gXeszsSlYraSNSwMeHh4eId4ZxPRdhi2CR2GDDw8PLxDvLwYtO11XgByatu+4+Hh4d3jzQLZfNUgf1htAfjwV3h4eHhf5c2a703M0bbp9XwPDw8P77/w8q/eDLQ2RWtVGPDw8PCOhhEJJifd/k48PDy8e7xTA7D2AnnUuwmF8fDw8I7y/gICO3OoeM/f4gAAAABJRU5ErkJggg=='>
          
            <img src="https://cdn.jsdelivr.net/gh/xaoxuu/assets@19.1.9/logo/128/qrcode.png">
          
          </a>
        
      
    </div>
  </div>


            
          </section>
        

        
            <div class="prev-next">
                
                    <section class="prev">
                        <span class="art-item-left">
                            <h6><i class="fas fa-chevron-left" aria-hidden="true"></i>&nbsp;上一页</h6>
                            <h4>
                                <a href="/2018/03/28/微信小程序探索随笔/" rel="prev" title="微信小程序的component">
                                  
                                      微信小程序的component
                                  
                                </a>
                            </h4>
                            
                                
                                <h6 class="tags">
                                    <a class="tag" href="/tags/微信小程序/"><i class="fas fa-hashtag fa-fw" aria-hidden="true"></i>微信小程序</a>
                                </h6>
                            
                        </span>
                    </section>
                
                
                    <section class="next">
                        <span class="art-item-right" aria-hidden="true">
                            <h6>下一页&nbsp;<i class="fas fa-chevron-right" aria-hidden="true"></i></h6>
                            <h4>
                                <a href="/2018/03/06/英文表达与写作练习宣告/" rel="prev" title="英文表达与写作练习宣告">
                                    
                                        英文表达与写作练习宣告
                                    
                                </a>
                            </h4>
                            
                        </span>
                    </section>
                
            </div>
        

    </section>

</article>

<!-- 根据页面mathjax变量决定是否加载MathJax数学公式js -->


<br>

<!-- 显示推荐文章和评论 -->



  <article class="post white-box comments">
    <section class="article typo">

      
        

    <div class="recommended_posts">
        <h4><i class="fas fa-bookmark fa-fw" aria-hidden="true"></i>&nbsp;相关文章</h4>
        <ul>
            
                <li><a href="http://www.iamlightsmile.com/2018/04/06/Scrapy爬取知乎数据小试/">Scrapy爬取知乎数据小试</a></li>
            
                <li><a href="http://www.iamlightsmile.com/2018/03/28/微信小程序探索随笔/">微信小程序的component</a></li>
            
                <li><a href="http://www.iamlightsmile.com/2018/03/06/英文表达与写作练习宣告/">英文表达与写作练习宣告</a></li>
            
                <li><a href="http://www.iamlightsmile.com/2018/03/05/常见10种自然语言处理技术（转载）/">常见10种自然语言处理技术（转载）</a></li>
            
        </ul>
    </div>


      

      
    </section>
  </article>



<script>
    window.subData = {
        title: 'learnNLTKbyWatchVideo',
        tools: true
    }
</script>


        </div>
        <aside class='l_side'>
            
  
  
    
      
      
        <section class='author'>
  <div class='content material'>
    
      <div class='avatar'>
        <img class='avatar' src='https://github.com/smilelight/images/raw/master/new_icon.jpg'/>
      </div>
    
    
      <div class='text'>
        
        
        
          <p><span id="jinrishici-sentence">lightsmile's Blog</span></p>
          <script src="https://sdk.jinrishici.com/v2/browser/jinrishici.js" charset="utf-8"></script>
        
      </div>
    
    
      <div class="social-wrapper">
        
          
            <a href="mailto:iamlightsmile@qq.com" class="social flat-btn" target="_blank" rel="external"><i class="social fas fa-envelope" aria-hidden="true"></i></a>
          
        
          
            <a href="https://github.com/smilelight" class="social flat-btn" target="_blank" rel="external"><i class="social fab fa-github" aria-hidden="true"></i></a>
          
        
          
            <a href="https://music.163.com/m/user/home?id=515917285" class="social flat-btn" target="_blank" rel="external"><i class="social fas fa-music" aria-hidden="true"></i></a>
          
        
          
            <a href="https://www.zhihu.com/people/qian-xiao-80" class="social flat-btn" target="_blank" rel="external"><i class="social fab fa-zhihu" aria-hidden="true"></i></a>
          
        
      </div>
    
  </div>
</section>

      
    
  
    
      
      
        <section class='plain'>
  
<header class='material'>
  <div><i class="fas fa-bullhorn fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;注意啦～</div>
  
    <a class="rightBtn" target="_blank"
    rel="external nofollow noopener noreferrer"
    href="https://xaoxuu.com/wiki/material-x/"
    title="https://xaoxuu.com/wiki/material-x/">
    <i class="fas fa-question-circle fa-fw"></i></a>
  
</header>

  <div class='content material'>
    <p>本站使用 <a href="https://xaoxuu.com/wiki/material-x/">Material X</a> 作为主题，喜欢这个主题的朋友可以阅读文档进行安装哦，超喜欢的话还可以安利给身边的朋友哦～</p>

  </div>
</section>

      
    
  
    
      
      
        
  <section class='toc-wrapper'>
    
<header class='material'>
  <div><i class="fas fa-list fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;文章目录</div>
  
    <div class='wrapper'><a class="s-toc rightBtn" rel="external nofollow noopener noreferrer" href="javascript:void(0)"><i class="fas fa-thumbtack fa-fw"></i></a></div>
  
</header>

    <div class='content material'>
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#The-following-is-learning-from-the-video-NLTK-with-Python-3-for-Natural-Language-Processing"><span class="toc-text">The following is learning from the video:NLTK with Python 3 for Natural Language Processing.</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-Tokenizing-words-and-entences-分词和分句"><span class="toc-text">1. Tokenizing words and entences(分词和分句)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-Stop-Words-停用词"><span class="toc-text">2. Stop Words(停用词)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-Stemming-提取词干"><span class="toc-text">3. Stemming(提取词干)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-Part-of-speech-tagging-词性标注"><span class="toc-text">4. Part of speech tagging(词性标注)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-Chunking-短语识别"><span class="toc-text">5. Chunking(短语识别)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-Chinking-短语排除"><span class="toc-text">6. Chinking(短语排除)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-Named-Entity-Recognition-命名实体识别"><span class="toc-text">7. Named Entity Recognition(命名实体识别)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-Lemmatizing-词形还原"><span class="toc-text">8. Lemmatizing(词形还原)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-NLTK-Corpora-语料库"><span class="toc-text">9. NLTK Corpora(语料库)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-WordNet-一个英语词汇数据库"><span class="toc-text">10. WordNet(一个英语词汇数据库)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-Text-Classfication-文本分类"><span class="toc-text">11. Text Classfication(文本分类)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-Words-as-Features-for-Learning-用来学习的特征词汇"><span class="toc-text">12. Words as Features for Learning(用来学习的特征词汇)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-Naive-Bayes-朴素贝叶斯"><span class="toc-text">13. Naive Bayes(朴素贝叶斯)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#14-Save-Classifier-with-Pickle-使用Pickle保存分类器"><span class="toc-text">14. Save Classifier with Pickle(使用Pickle保存分类器)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-Scikit-Learn-incorporation"><span class="toc-text">15. Scikit-Learn incorporation()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#16-Combining-Algos-with-a-Vote"><span class="toc-text">16. Combining Algos with a Vote</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#17-Investigating-Bias"><span class="toc-text">17. Investigating Bias()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#18-Better-training-data"><span class="toc-text">18. Better training data()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#19-Sentiment-Analysis-Module"><span class="toc-text">19. Sentiment Analysis Module()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#20-Twitter-Sentiment-Analysis"><span class="toc-text">20. Twitter Sentiment Analysis()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#21-Graphing-Live-Twitter-Sentiment"><span class="toc-text">21. Graphing Live Twitter Sentiment()</span></a></li></ol></li></ol></li></ol>
    </div>
  </section>


      
    
  
    
      
      
        
  <section class='category'>
    
<header class='material'>
  <div><i class="fas fa-folder-open fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;所有分类</div>
  
</header>

    <div class='content material'>
      <ul class="entry">
        
          <li><a class="flat-box" title="/categories/Manjaro/" href="/categories/Manjaro/"><div class='name'>Manjaro</div><div class='badge'>(9)</div></a></li>
        
          <li><a class="flat-box" title="/categories/Python/" href="/categories/Python/"><div class='name'>Python</div><div class='badge'>(2)</div></a></li>
        
          <li><a class="flat-box" title="/categories/lua/" href="/categories/lua/"><div class='name'>lua</div><div class='badge'>(1)</div></a></li>
        
          <li><a class="flat-box" title="/categories/哲学/" href="/categories/哲学/"><div class='name'>哲学</div><div class='badge'>(6)</div></a></li>
        
          <li><a class="flat-box" title="/categories/数学/" href="/categories/数学/"><div class='name'>数学</div><div class='badge'>(1)</div></a></li>
        
          <li><a class="flat-box" title="/categories/深度学习/" href="/categories/深度学习/"><div class='name'>深度学习</div><div class='badge'>(1)</div></a></li>
        
          <li><a class="flat-box" title="/categories/自然语言处理/" href="/categories/自然语言处理/"><div class='name'>自然语言处理</div><div class='badge'>(1)</div></a></li>
        
          <li><a class="flat-box" title="/categories/计算机/" href="/categories/计算机/"><div class='name'>计算机</div><div class='badge'>(2)</div></a></li>
        
      </ul>
    </div>
  </section>


      
    
  
    
      
      
        
  <section class='tagcloud'>
    
<header class='material'>
  <div><i class="fas fa-fire fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;热门标签</div>
  
</header>

    <div class='content material'>
      <a href="/tags/GitHub/" style="font-size: 14px; color: #999">GitHub</a> <a href="/tags/Manjaro/" style="font-size: 24px; color: #555">Manjaro</a> <a href="/tags/NLP/" style="font-size: 14px; color: #999">NLP</a> <a href="/tags/NLTK/" style="font-size: 14px; color: #999">NLTK</a> <a href="/tags/Python/" style="font-size: 20px; color: #707070">Python</a> <a href="/tags/Scrapy/" style="font-size: 14px; color: #999">Scrapy</a> <a href="/tags/Tensorflow/" style="font-size: 14px; color: #999">Tensorflow</a> <a href="/tags/github/" style="font-size: 14px; color: #999">github</a> <a href="/tags/ltp/" style="font-size: 14px; color: #999">ltp</a> <a href="/tags/lua/" style="font-size: 14px; color: #999">lua</a> <a href="/tags/markdown/" style="font-size: 14px; color: #999">markdown</a> <a href="/tags/哲学/" style="font-size: 22px; color: #636363">哲学</a> <a href="/tags/图片绝对地址/" style="font-size: 14px; color: #999">图片绝对地址</a> <a href="/tags/微信小程序/" style="font-size: 14px; color: #999">微信小程序</a> <a href="/tags/抽象/" style="font-size: 14px; color: #999">抽象</a> <a href="/tags/数学/" style="font-size: 14px; color: #999">数学</a> <a href="/tags/概念/" style="font-size: 14px; color: #999">概念</a> <a href="/tags/浏览器插件/" style="font-size: 16px; color: #8b8b8b">浏览器插件</a> <a href="/tags/深度学习/" style="font-size: 14px; color: #999">深度学习</a> <a href="/tags/爬虫/" style="font-size: 14px; color: #999">爬虫</a> <a href="/tags/算法/" style="font-size: 16px; color: #8b8b8b">算法</a> <a href="/tags/统计学/" style="font-size: 14px; color: #999">统计学</a> <a href="/tags/自然语言处理/" style="font-size: 18px; color: #7e7e7e">自然语言处理</a>
    </div>
  </section>


      
    
  
    
      
      
        <section class='list'>
  
<header class='material'>
  <div><i class="fas fa-medal fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;我的项目</div>
  
    <a class="rightBtn" target="_blank"
    rel="external nofollow noopener noreferrer"
    href="https://github.com/smilelight?tab=repositories"
    title="https://github.com/smilelight?tab=repositories">
    <i class="fas fa-arrow-right fa-fw"></i></a>
  
</header>

  <div class='content material'>
    <ul class="entry">
      
        <li><a class="flat-box" title="https://github.com/smilelight/lightNLP/" href="https://github.com/smilelight/lightNLP/">
          <div class='name'>
            
              <i class="fas fa-cube fa-fw" aria-hidden="true"></i>
            
            &nbsp;&nbsp;lightNLP
          </div>
          
            <div class='badge'>(自然语言处理框架)</div>
          
        </a></li>
      
        <li><a class="flat-box" title="https://github.com/smilelight/todoKG/" href="https://github.com/smilelight/todoKG/">
          <div class='name'>
            
              <i class="fas fa-cube fa-fw" aria-hidden="true"></i>
            
            &nbsp;&nbsp;lightKG
          </div>
          
            <div class='badge'>(知识图谱框架)</div>
          
        </a></li>
      
        <li><a class="flat-box" title="https://github.com/smilelight/todolist/" href="https://github.com/smilelight/todolist/">
          <div class='name'>
            
              <i class="fas fa-cube fa-fw" aria-hidden="true"></i>
            
            &nbsp;&nbsp;微计划日程管理
          </div>
          
            <div class='badge'>(微信小程序)</div>
          
        </a></li>
      
    </ul>
  </div>
</section>

      
    
  
    
      
      
        <section class='list'>
  
<header class='material'>
  <div><i class="fas fa-link fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;特别链接</div>
  
</header>

  <div class='content material'>
    <ul class="entry">
      
        <li><a class="flat-box" title="https://www.iamlightsmile.com/about/" href="https://www.iamlightsmile.com/about/">
          <div class='name'>
            
              <i class="fas fa-comment-dots fa-fw" aria-hidden="true"></i>
            
            &nbsp;&nbsp;关于我 / 留言板
          </div>
          
        </a></li>
      
    </ul>
  </div>
</section>

      
    
  
    
      
      
        


  <section class='music'>
    
<header class='material'>
  <div><i class="fas fa-compact-disc fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;最近在听</div>
  
    <a class="rightBtn" target="_blank"
    rel="external nofollow noopener noreferrer"
    href="https://music.163.com/m/user/home?id=515917285"
    title="https://music.163.com/m/user/home?id=515917285">
    <i class="far fa-heart fa-fw"></i></a>
  
</header>

    <div class='content material'>
      
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.7.0/dist/APlayer.min.css">
  <div class="aplayer"
    data-theme="#1BCDFC"
    
    
    data-mode="circulation"
    data-server="netease"
    data-type="playlist"
    data-id="2384415913"
    data-volume="0.7">
  </div>
  <script src="https://cdn.jsdelivr.net/npm/aplayer@1.7.0/dist/APlayer.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/meting@1.1.0/dist/Meting.min.js"></script>


    </div>
  </section>


      
    
  


        </aside>
        <script>setLoadingBarProgress(60);</script>
    </div>
    <a class="s-top fas fa-arrow-up fa-fw" href='javascript:void(0)'></a>
    </div>
    <footer id="footer" class="clearfix">
  
    <div class="social-wrapper">
      
        
          <a href="mailto:iamlightsmile@qq.com" class="social fas fa-envelope flat-btn" target="_blank" rel="external"></a>
        
      
        
          <a href="https://github.com/smilelight" class="social fab fa-github flat-btn" target="_blank" rel="external"></a>
        
      
        
          <a href="https://music.163.com/m/user/home?id=515917285" class="social fas fa-music flat-btn" target="_blank" rel="external"></a>
        
      
        
          <a href="https://www.zhihu.com/people/qian-xiao-80" class="social fab fa-zhihu flat-btn" target="_blank" rel="external"></a>
        
      
    </div>
  
  <br>
  <div><p>博客内容遵循 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">署名-非商业性使用-相同方式共享 4.0 国际 (CC BY-NC-SA 4.0) 协议</a></p>
</div>
  <div>本站使用 <a href="https://xaoxuu.com/wiki/material-x/" target="_blank" class="codename">Material X</a> 作为主题，总访问量为 <span id="busuanzi_value_site_pv"><i class="fas fa-spinner fa-spin fa-fw" aria-hidden="true"></i></span> 次。
  </div>
  <div>
    <span id="timeDate">载入天数...</span><span id="times">载入时分秒...</span>
    <script>
        var now = new Date();
        function createtime() {
            var grt= new Date("12/22/2017 00:00:00");
            now.setTime(now.getTime()+250);
            days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days);
            hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours);
            if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum);
            mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;}
            seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);
            snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;}
            document.getElementById("timeDate").innerHTML = "本小站已苟延残喘 "+dnum+" 天 ";
            document.getElementById("times").innerHTML = hnum + " 小时 " + mnum + " 分 " + snum + " 秒";
        }
    setInterval("createtime()",250);
    </script>
    </div>
</footer>


    <script>setLoadingBarProgress(80);</script>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js"></script>

  <script>
    var GOOGLE_CUSTOM_SEARCH_API_KEY = "";
    var GOOGLE_CUSTOM_SEARCH_ENGINE_ID = "";
    var ALGOLIA_API_KEY = "";
    var ALGOLIA_APP_ID = "";
    var ALGOLIA_INDEX_NAME = "";
    var AZURE_SERVICE_NAME = "";
    var AZURE_INDEX_NAME = "";
    var AZURE_QUERY_KEY = "";
    var BAIDU_API_ID = "";
    var SEARCH_SERVICE = "hexo" || "hexo";
    var ROOT = "/"||"/";
    if(!ROOT.endsWith('/'))ROOT += '/';
  </script>


  
    <script src="https://cdn.jsdelivr.net/npm/scrollreveal@4.0.5/dist/scrollreveal.min.js"></script>
    <script type="text/javascript">
      $(function() {
        const $reveal = $('.reveal');
    		if ($reveal.length === 0) return;
    		const sr = ScrollReveal({ distance: 0 });
    		sr.reveal('.reveal');
      });
    </script>
  
  
    <script src="https://cdn.jsdelivr.net/npm/node-waves@0.7.6/dist/waves.min.js"></script>
    <script type="text/javascript">
      $(function() {
        Waves.attach('.flat-btn', ['waves-button']);
        Waves.attach('.float-btn', ['waves-button', 'waves-float']);
        Waves.attach('.float-btn-light', ['waves-button', 'waves-float', 'waves-light']);
        Waves.attach('.flat-box', ['waves-block']);
        Waves.attach('.float-box', ['waves-block', 'waves-float']);
        Waves.attach('.waves-image');
        Waves.init();
      });
    </script>
  
  
    <script async src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-busuanzi@2.3/js/busuanzi.pure.mini.js"></script>
  
  
  


  
  
  
  
    
    <script src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-material-x@1.0/js/app.js"></script>
<script src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-material-x@1.0/js/search.js"></script>
    
  







    <!-- 替换背景2-->
    <script>
    var RENDERER = {
        BASE_PARTICLE_COUNT :20,
        WATCH_INTERVAL : 50,
        
        init : function(){
            this.setParameters();
            this.reconstructMethods();
            this.setup();
            this.bindEvent();
            this.render();
        },
        setParameters : function(){
            this.$window = $(window);
            this.$container = $('#jsi-particle-container');
            this.$canvas = $('<canvas />');
            this.context = this.$canvas.appendTo(this.$container).get(0).getContext('2d');
            this.particles = [];
            this.watchIds = [];
            this.gravity = {x : 0, y : 0, on : false, radius : 100, gravity : true};
        },
        setup : function(){
            this.particles.length = 0;
            this.watchIds.length = 0;
            // this.width = this.$container.width();
            // this.height = this.$container.height();
            this.width = this.$window.width();
            this.height = this.$window.height();
            this.$canvas.attr({width : this.width, height : this.height});
            this.distance = Math.sqrt(Math.pow(this.width / 2, 2) + Math.pow(this.height / 2, 2));
            this.createParticles();
        },
        reconstructMethods : function(){
            this.watchWindowSize = this.watchWindowSize.bind(this);
            this.jdugeToStopResize = this.jdugeToStopResize.bind(this);
            this.render = this.render.bind(this);
        },
        createParticles : function(){
            for(var i = 0, count = (this.BASE_PARTICLE_COUNT * this.width / 500 * this.height / 500) | 0; i < count; i++){
                this.particles.push(new PARTICLE(this));
            }
        },
        watchWindowSize : function(){
            this.clearTimer();
            this.tmpWidth = this.$window.width();
            this.tmpHeight = this.$window.height();
            this.watchIds.push(setTimeout(this.jdugeToStopResize, this.WATCH_INTERVAL));
        },
        clearTimer : function(){
            while(this.watchIds.length > 0){
                clearTimeout(this.watchIds.pop());
            }
        },
        jdugeToStopResize : function(){
            var width = this.$window.width(),
                height = this.$window.height(),
                stopped = (width == this.tmpWidth && height == this.tmpHeight);
                
            this.tmpWidth = width;
            this.tmpHeight = height;
            
            if(stopped){
                this.setup();
            }
        },
        bindEvent : function(){
            this.$window.on('resize', this.watchWindowSize);
            this.$container.on('mousemove', this.controlForce.bind(this, true));
            this.$container.on('mouseleave', this.controlForce.bind(this, false));
        },
        controlForce : function(on, event){
            this.gravity.on = on;
            
            if(!on){
                return;
            }
            var offset = this.$container.offset();
            this.gravity.x = event.clientX - offset.left + this.$window.scrollLeft();
            this.gravity.y = event.clientY - offset.top + this.$window.scrollTop();
        },
        render : function(){
            requestAnimationFrame(this.render);
            
            var context = this.context;
            context.save();
            context.fillStyle = 'hsla(0, 0%, 0%, 0.3)';
            context.fillRect(0, 0, this.width, this.height);
            context.globalCompositeOperation = 'lighter';
            
            for(var i = 0, particles = this.particles, gravity = this.gravity, count = particles.length; i < count; i++){
                var particle = particles[i];
                
                for(var j = i + 1; j < count; j++){
                    particle.checkForce(context, particles[j]);
                }
                particle.checkForce(context, gravity);
                particle.render(context);
            }
            context.restore();
        }
    };
    var PARTICLE = function(renderer){
        this.renderer = renderer;
        this.init();
    };
    PARTICLE.prototype = {
        THRESHOLD : 100,
        SPRING_AMOUNT : 0.001,
        LIMIT_RATE : 0.2,
        GRAVIY_MAGINIFICATION : 10,
        
        init : function(){
            this.radius = this.getRandomValue(5, 15);
            this.x = this.getRandomValue(-this.renderer.width * this.LIMIT_RATE, this.renderer.width * (1 + this.LIMIT_RATE)) | 0;
            this.y = this.getRandomValue(-this.renderer.width * this.LIMIT_RATE, this.renderer.height * (1 + this.LIMIT_RATE)) | 0;
            this.vx = this.getRandomValue(-3, 3);
            this.vy = this.getRandomValue(-3, 3);
            this.ax = 0;
            this.ay = 0;
            this.gravity = false;
            this.transformShape();
        },
        getRandomValue : function(min, max){
            return min + (max - min) * Math.random();
        },
        transformShape : function(){
            var velocity = Math.sqrt(this.vx * this.vx + this.vy * this.vy);
            this.scale = 1 - velocity / 15;
            this.hue = ((180 + velocity * 10) % 360) | 0;
        },
        checkForce : function(context, particle){
            if(particle.gravity && !particle.on){
                return;
            }
            var dx = particle.x - this.x,
                dy = particle.y - this.y,
                distance = Math.sqrt(dx * dx + dy * dy),
                magnification = (particle.gravity ? this.GRAVIY_MAGINIFICATION : 1);
                
            if(distance > this.THRESHOLD * magnification){
                return;
            }
            var rate = this.SPRING_AMOUNT / magnification / (this.radius + particle.radius);
            this.ax = dx * rate * particle.radius;
            this.ay = dy * rate * particle.radius;
            
            if(!particle.gravity){
                particle.ax = -dx * rate * this.radius;
                particle.ay = -dy * rate * this.radius;
            }
            if(distance > this.THRESHOLD){
                return;
            }
            context.lineWidth = 3;
            context.strokeStyle = 'hsla(' + this.hue + ', 70%, 30%, ' + (Math.abs(this.THRESHOLD - distance) / this.THRESHOLD) + ')';
            context.beginPath();
            context.moveTo(this.x, this.y);
            context.lineTo(particle.x, particle.y);
            context.stroke();
        },
        render : function(context){
            context.save();
            context.fillStyle = 'hsl(' + this.hue + ', 70%, 40%)';
            context.translate(this.x, this.y);
            context.rotate(Math.atan2(this.vy, this.vx) + Math.PI / 2);
            context.scale(this.scale, 1);
            context.beginPath();
            context.arc(0, 0, this.radius, 0, Math.PI * 2, false);
            context.fill();
            context.restore();
            
            this.x += this.vx;
            this.y += this.vy;
            this.vx += this.ax;
            this.vy += this.ay;
            
            if(this.x < -this.radius && this.vx < 0 || (this.x > this.renderer.width + this.radius) && this.vx > 0 || this.y < -this.radius && this.vy < 0 || (this.y > this.renderer.height + this.radius) && this.vy > 0){
                var theta = this.getRandomValue(0, Math.PI * 2),
                    sin = Math.sin(theta),
                    cos = Math.cos(theta),
                    velocity = this.getRandomValue(-3, 3);
                    
                this.x = -(this.renderer.distance + this.radius) * cos + this.renderer.width / 2;
                this.y = -(this.renderer.distance + this.radius) * sin + this.renderer.height / 2;
                this.vx = velocity * cos;
                this.vy = velocity * sin;
            }
            this.transformShape();
        }
    };
    $(function(){
        RENDERER.init();
    });
    </script>

    <script>setLoadingBarProgress(100);</script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</body>
</html>
